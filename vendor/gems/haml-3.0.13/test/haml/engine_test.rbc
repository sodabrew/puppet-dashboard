!RBIX
0
x
M
1
n
n
x
10
__script__
i
58
5
45
0
1
65
48
2
49
3
1
7
4
64
81
5
47
49
6
1
15
45
7
8
7
9
45
10
11
43
12
43
13
65
49
14
3
13
45
7
15
12
7
16
12
7
17
12
65
12
49
18
4
15
48
16
15
2
11
I
6
I
0
I
0
I
0
n
p
19
x
4
File
n
x
11
active_path
x
7
dirname
s
15
/../test_helper
x
1
+
x
7
require
x
8
Rubinius
n
x
10
EngineTest
x
4
Test
n
x
4
Unit
x
8
TestCase
x
10
open_class
n
x
14
__class_init__
M
1
n
n
x
10
EngineTest
i
3498
5
66
65
7
0
44
43
1
4
69
49
2
1
13
7
3
64
7
4
64
49
5
2
15
13
7
6
64
7
7
64
49
5
2
15
13
7
8
64
7
9
64
49
5
2
15
13
7
10
64
7
11
64
49
5
2
15
13
7
12
64
7
13
64
49
5
2
15
13
7
14
64
7
15
64
49
5
2
15
13
7
16
64
7
17
64
49
5
2
15
13
7
18
64
7
17
64
49
5
2
15
13
7
19
64
7
15
64
49
5
2
15
13
7
20
64
7
21
64
49
5
2
15
13
7
22
64
7
23
64
79
35
2
49
5
2
15
13
7
24
64
7
25
64
49
5
2
15
13
7
26
64
7
27
64
49
5
2
15
13
7
28
64
7
27
64
49
5
2
15
13
7
29
64
7
27
64
49
5
2
15
13
7
30
64
7
27
64
49
5
2
15
13
7
31
64
7
27
64
49
5
2
15
13
7
32
64
7
27
64
49
5
2
15
13
7
33
64
7
34
64
49
5
2
15
13
7
35
64
7
34
64
80
35
2
49
5
2
15
13
7
36
64
7
15
64
80
35
2
49
5
2
15
13
7
37
64
7
27
64
79
35
2
49
5
2
15
13
7
38
64
7
34
64
4
4
35
2
49
5
2
15
13
7
39
64
7
40
64
4
4
35
2
49
5
2
15
13
7
41
64
7
40
64
80
35
2
49
5
2
15
13
7
42
64
7
40
64
4
3
35
2
49
5
2
15
13
7
43
64
7
44
64
49
5
2
15
13
7
45
64
7
44
64
49
5
2
15
13
7
46
64
7
47
64
48
48
49
5
2
15
13
7
49
64
7
44
64
4
3
35
2
49
5
2
15
13
7
50
64
7
44
64
4
3
35
2
49
5
2
15
13
7
51
64
7
52
64
4
3
35
2
49
5
2
15
13
7
53
64
7
52
64
4
4
35
2
49
5
2
15
13
7
54
64
7
55
64
4
3
35
2
49
5
2
15
13
7
56
64
7
57
64
4
3
35
2
49
5
2
15
13
7
58
64
7
57
64
4
4
35
2
49
5
2
15
13
7
59
64
7
60
64
4
4
35
2
49
5
2
15
13
7
61
64
7
62
64
4
4
35
2
49
5
2
15
13
7
63
64
7
64
64
4
4
35
2
49
5
2
15
13
7
65
64
7
66
64
80
35
2
49
5
2
15
13
7
67
64
7
68
64
49
5
2
15
13
7
69
64
7
70
64
79
35
2
49
5
2
15
13
7
71
64
7
72
64
49
5
2
15
13
7
73
64
7
74
64
49
5
2
15
13
7
75
64
7
76
64
79
35
2
49
5
2
15
13
7
77
64
7
78
64
80
35
2
49
5
2
15
13
7
79
64
7
80
49
5
2
15
13
7
81
64
7
80
49
5
2
15
13
7
82
64
7
80
49
5
2
15
13
7
83
64
7
80
49
5
2
15
13
7
84
64
7
80
49
5
2
15
13
7
85
64
7
80
49
5
2
15
13
7
86
64
7
40
64
79
35
2
49
5
2
15
13
7
87
64
7
40
64
80
35
2
49
5
2
15
13
7
88
64
7
40
64
4
4
35
2
49
5
2
15
13
7
89
64
7
40
64
4
5
35
2
49
5
2
15
13
7
90
64
7
7
64
4
4
35
2
49
5
2
15
13
7
91
64
7
21
64
4
3
35
2
49
5
2
15
13
7
92
64
7
13
64
4
3
35
2
49
5
2
15
13
7
93
64
7
9
64
4
3
35
2
49
5
2
15
13
7
94
64
7
4
64
4
3
35
2
49
5
2
15
13
7
95
64
7
40
64
4
6
35
2
49
5
2
15
13
7
96
64
7
40
64
4
6
35
2
49
5
2
15
13
7
97
64
7
40
64
4
6
35
2
49
5
2
15
13
7
98
64
7
40
64
4
7
35
2
49
5
2
15
13
7
99
64
7
40
64
4
6
35
2
49
5
2
15
13
7
100
64
7
40
64
4
7
35
2
49
5
2
15
13
7
101
64
7
40
64
4
5
35
2
49
5
2
15
13
7
102
64
7
40
64
79
35
2
49
5
2
15
49
103
2
15
65
7
104
45
105
106
13
71
107
47
9
944
47
48
108
13
7
109
64
7
110
47
49
111
2
15
8
952
7
109
64
7
110
49
107
2
49
103
2
15
45
112
113
7
114
45
105
115
13
71
107
47
9
983
47
48
108
13
7
110
47
49
111
1
15
8
988
7
110
49
107
1
65
49
116
3
13
45
112
117
12
7
118
12
7
119
12
65
12
49
120
4
15
48
118
15
45
112
121
7
122
7
123
65
67
48
124
49
125
4
15
45
112
126
7
127
7
128
65
67
48
124
49
125
4
15
45
112
129
7
130
7
131
65
67
48
124
49
125
4
15
45
112
132
7
133
7
134
65
67
48
124
49
125
4
15
45
112
135
7
136
7
137
65
67
48
124
49
125
4
15
45
112
138
7
139
7
140
65
67
48
124
49
125
4
15
45
112
141
7
142
7
143
65
67
48
124
49
125
4
15
45
112
144
7
145
7
146
65
67
48
124
49
125
4
15
45
112
147
7
148
7
149
65
67
48
124
49
125
4
15
45
112
150
7
151
7
152
65
67
48
124
49
125
4
15
45
112
153
7
154
7
155
65
67
48
124
49
125
4
15
45
112
156
7
157
7
158
65
67
48
124
49
125
4
15
45
112
159
7
160
7
161
65
67
48
124
49
125
4
15
45
112
162
7
163
7
164
65
67
48
124
49
125
4
15
45
112
165
7
166
7
167
65
67
48
124
49
125
4
15
45
112
168
7
169
7
170
65
67
48
124
49
125
4
15
45
112
171
7
172
7
173
65
67
48
124
49
125
4
15
45
112
174
7
175
7
176
65
67
48
124
49
125
4
15
45
112
177
7
178
7
179
65
67
48
124
49
125
4
15
45
112
180
7
181
7
182
65
67
48
124
49
125
4
15
45
112
183
7
184
7
185
65
67
48
124
49
125
4
15
45
112
186
7
187
7
188
65
67
48
124
49
125
4
15
45
112
189
7
190
7
191
65
67
48
124
49
125
4
15
45
112
192
7
193
7
194
65
67
48
124
49
125
4
15
45
112
195
7
196
7
197
65
67
48
124
49
125
4
15
45
112
198
7
199
7
200
65
67
48
124
49
125
4
15
45
112
201
7
202
7
203
65
67
48
124
49
125
4
15
45
112
204
7
205
7
206
65
67
48
124
49
125
4
15
45
112
207
7
208
7
209
65
67
48
124
49
125
4
15
45
112
210
7
211
7
212
65
67
48
124
49
125
4
15
45
112
213
7
214
7
215
65
67
48
124
49
125
4
15
45
112
216
7
217
7
218
65
67
48
124
49
125
4
15
45
112
219
7
220
7
221
65
67
48
124
49
125
4
15
45
112
222
7
223
7
224
65
67
48
124
49
125
4
15
45
112
225
7
226
7
227
65
67
48
124
49
125
4
15
45
112
228
7
229
7
230
65
67
48
124
49
125
4
15
45
112
231
7
232
7
233
65
67
48
124
49
125
4
15
45
112
234
7
235
7
236
65
67
48
124
49
125
4
15
45
112
237
7
238
7
239
65
67
48
124
49
125
4
15
45
112
240
7
241
7
242
65
67
48
124
49
125
4
15
45
112
243
7
244
7
245
65
67
48
124
49
125
4
15
45
112
246
7
247
7
248
65
67
48
124
49
125
4
15
45
112
249
7
250
7
251
65
67
48
124
49
125
4
15
45
112
252
7
253
7
254
65
67
48
124
49
125
4
15
45
112
255
7
256
7
257
65
67
48
124
49
125
4
15
45
112
258
7
259
7
260
65
67
48
124
49
125
4
15
45
112
261
7
262
7
263
65
67
48
124
49
125
4
15
45
112
264
7
265
7
266
65
67
48
124
49
125
4
15
45
112
267
7
268
7
269
65
67
48
124
49
125
4
15
45
112
270
7
271
7
272
65
67
48
124
49
125
4
15
45
112
273
7
274
7
275
65
67
48
124
49
125
4
15
45
112
276
7
277
7
278
65
67
48
124
49
125
4
15
45
112
279
7
280
7
281
65
67
48
124
49
125
4
15
45
112
282
7
283
7
284
65
67
48
124
49
125
4
15
45
112
285
7
286
7
287
65
67
48
124
49
125
4
15
45
112
288
7
289
7
290
65
67
48
124
49
125
4
15
45
112
291
7
292
7
293
65
67
48
124
49
125
4
15
45
112
294
7
295
7
296
65
67
48
124
49
125
4
15
45
112
297
7
298
7
299
65
67
48
124
49
125
4
15
45
112
300
7
301
7
302
65
67
48
124
49
125
4
15
45
112
303
7
304
7
305
65
67
48
124
49
125
4
15
45
112
306
7
307
7
308
65
67
48
124
49
125
4
15
45
112
309
7
310
7
311
65
67
48
124
49
125
4
15
45
112
312
7
313
7
314
65
67
48
124
49
125
4
15
45
112
315
7
316
7
317
65
67
48
124
49
125
4
15
45
112
318
7
319
7
320
65
67
48
124
49
125
4
15
45
112
321
7
322
7
323
65
67
48
124
49
125
4
15
45
112
324
7
325
7
326
65
67
48
124
49
125
4
15
45
112
327
7
328
7
329
65
67
48
124
49
125
4
15
45
112
330
7
331
7
332
65
67
48
124
49
125
4
15
45
112
333
7
334
7
335
65
67
48
124
49
125
4
15
45
112
336
7
337
7
338
65
67
48
124
49
125
4
15
45
112
339
7
340
7
341
65
67
48
124
49
125
4
15
45
112
342
7
343
7
344
65
67
48
124
49
125
4
15
45
112
345
7
346
7
347
65
67
48
124
49
125
4
15
45
112
348
7
349
7
350
65
67
48
124
49
125
4
15
45
112
351
7
352
7
353
65
67
48
124
49
125
4
15
45
112
354
7
355
7
356
65
67
48
124
49
125
4
15
45
112
357
7
358
7
359
65
67
48
124
49
125
4
15
45
112
360
7
361
7
362
65
67
48
124
49
125
4
15
45
112
363
7
364
7
365
65
67
48
124
49
125
4
15
45
112
366
7
367
7
368
65
67
48
124
49
125
4
15
45
112
369
7
370
7
371
65
67
48
124
49
125
4
15
45
112
372
7
373
7
374
65
67
48
124
49
125
4
15
45
112
375
7
376
7
377
65
67
48
124
49
125
4
15
45
112
378
7
379
7
380
65
67
48
124
49
125
4
15
45
112
381
7
382
7
383
65
67
48
124
49
125
4
15
45
112
384
7
385
7
386
65
67
48
124
49
125
4
15
45
112
387
7
388
7
389
65
67
48
124
49
125
4
15
45
112
390
7
391
7
392
65
67
48
124
49
125
4
15
45
112
393
7
394
7
395
65
67
48
124
49
125
4
15
45
112
396
7
397
7
398
65
67
48
124
49
125
4
15
45
0
399
56
400
50
401
0
15
45
112
402
7
403
7
404
65
67
48
124
49
125
4
15
45
112
405
7
406
7
407
65
67
48
124
49
125
4
15
45
112
408
7
409
7
410
65
67
48
124
49
125
4
15
45
112
411
7
412
7
413
65
67
48
124
49
125
4
15
45
112
414
7
415
7
416
65
67
48
124
49
125
4
15
45
112
417
7
418
7
419
65
67
48
124
49
125
4
15
45
112
420
7
421
7
422
65
67
48
124
49
125
4
15
45
112
423
7
424
7
425
65
67
48
124
49
125
4
15
45
112
426
7
427
7
428
65
67
48
124
49
125
4
15
45
112
429
7
430
7
431
65
67
48
124
49
125
4
15
45
112
432
7
433
7
434
65
67
48
124
49
125
4
15
45
112
435
7
436
7
437
65
67
48
124
49
125
4
15
45
112
438
7
439
7
440
65
67
48
124
49
125
4
15
45
112
441
7
442
7
443
65
67
48
124
49
125
4
15
45
112
444
7
445
7
446
65
67
48
124
49
125
4
15
45
112
447
7
448
7
449
65
67
48
124
49
125
4
15
45
112
450
7
451
7
452
65
67
48
124
49
125
4
15
45
112
453
7
454
7
455
65
67
48
124
49
125
4
15
45
112
456
7
457
7
458
65
67
48
124
49
125
4
15
45
112
459
7
460
7
461
65
67
48
124
49
125
4
15
45
112
462
7
463
7
464
65
67
48
124
49
125
4
15
45
112
465
7
466
7
467
65
67
48
124
49
125
4
15
45
112
468
7
469
7
470
65
67
48
124
49
125
4
15
45
112
471
7
472
7
473
65
67
48
124
49
125
4
15
45
112
474
7
475
7
476
65
67
48
124
49
125
4
15
45
112
477
7
478
7
479
65
67
48
124
49
125
4
15
45
112
480
7
481
7
482
65
67
48
124
49
125
4
15
45
112
483
7
484
7
485
65
67
48
124
49
125
4
15
45
112
486
7
487
7
488
65
67
48
124
49
125
4
15
45
112
489
7
490
7
491
65
67
48
124
49
125
4
15
45
112
492
7
493
7
494
65
67
48
124
49
125
4
15
45
112
495
7
496
7
497
65
67
48
124
49
125
4
15
45
112
498
7
499
7
500
65
67
48
124
49
125
4
15
45
112
501
7
502
7
503
65
67
48
124
49
125
4
15
45
112
504
7
505
7
506
65
67
48
124
49
125
4
15
45
112
507
7
508
7
509
65
67
48
124
49
125
4
15
45
112
510
7
511
7
512
65
67
48
124
49
125
4
15
45
112
513
7
514
7
515
65
67
48
124
49
125
4
15
45
112
516
7
517
7
518
65
67
48
124
49
125
4
15
45
112
519
7
520
7
521
65
67
48
124
49
125
4
15
45
112
522
7
523
7
524
65
67
48
124
49
125
4
15
45
112
525
7
526
7
527
65
67
48
124
49
125
4
15
45
112
528
7
529
7
530
65
67
48
124
49
125
4
15
45
112
531
7
532
7
533
65
67
48
124
49
125
4
15
45
112
534
7
535
7
536
65
67
48
124
49
125
4
15
45
112
537
7
538
7
539
65
67
48
124
49
125
4
15
45
112
540
7
541
7
542
65
67
48
124
49
125
4
15
45
112
543
7
544
7
545
65
67
48
124
49
125
4
15
45
112
546
7
547
7
548
65
67
48
124
49
125
4
15
45
112
549
7
550
7
551
65
67
48
124
49
125
4
15
45
112
552
7
553
7
554
65
67
48
124
49
125
4
15
45
112
555
7
556
7
557
65
67
48
124
49
125
4
15
45
112
558
7
559
7
560
65
67
48
124
49
125
4
15
45
112
561
7
562
7
563
65
67
48
124
49
125
4
15
45
112
564
7
565
7
566
65
67
48
124
49
125
4
15
45
112
567
7
568
7
569
65
67
48
124
49
125
4
15
45
112
570
7
571
7
572
65
67
48
124
49
125
4
15
45
112
573
7
574
7
575
65
67
48
124
49
125
4
15
45
112
576
7
577
7
578
65
67
48
124
49
125
4
15
45
112
579
7
580
7
581
65
67
48
124
49
125
4
15
45
112
582
7
583
7
584
65
67
48
124
49
125
4
15
45
112
585
7
586
7
587
65
67
48
124
49
125
4
15
45
112
588
7
589
7
590
65
67
48
124
49
125
4
15
45
591
592
43
593
48
594
9
3358
1
8
3477
45
112
595
7
596
7
597
65
67
48
124
49
125
4
15
45
112
598
7
599
7
600
65
67
48
124
49
125
4
15
45
112
601
7
602
7
603
65
67
48
124
49
125
4
15
45
112
604
7
605
7
606
65
67
48
124
49
125
4
15
45
112
607
7
599
7
608
65
67
48
124
49
125
4
15
45
112
609
7
610
7
611
65
67
48
124
49
125
4
15
45
112
612
7
613
7
614
65
67
48
124
49
125
4
15
45
112
615
7
616
7
617
65
67
48
124
49
125
4
15
5
47
48
618
15
45
112
619
7
620
7
621
65
67
48
124
49
125
4
11
I
7
I
0
I
0
I
0
n
p
622
x
13
EXCEPTION_MAP
x
4
Hash
x
16
new_from_literal
s
7
!!!
  a
s
60
Illegal nesting: nesting within a header command is illegal.
x
3
[]=
s
5
a
  b
s
54
Illegal nesting: nesting within plain text is illegal.
s
7
/ a
  b
s
74
Illegal nesting: nesting within a tag that already has content is illegal.
s
3
% a
s
19
Invalid tag: "% a".
s
8
%p a
  b
s
89
Illegal nesting: content can't be both given on the same line as %p and nested within it.
s
3
%p=
s
39
There's no Ruby code for = to evaluate.
s
3
%p~
s
39
There's no Ruby code for ~ to evaluate.
s
1
~
s
1
=
s
7
%p/
  a
s
62
Illegal nesting: nesting within a self-closing tag is illegal.
s
6
:a
  b
s
26
Filter "a" is not defined.
s
5
:a= b
s
28
Invalid filter name ":a= b".
s
1
.
s
50
Illegal element: classes and ids must have values.
s
2
.#
s
5
.{} a
s
5
.() a
s
4
.= a
s
5
%p..a
s
5
%a/ b
s
37
Self-closing tags can't have content.
s
27
%p{:a => 'b',
:c => 'd'}/ e
s
25
%p{:a => 'b',
:c => 'd'}=
s
27
%p.{:a => 'b',
:c => 'd'} e
s
41
%p{:a => 'b',
:c => 'd',
:e => 'f'}
%p/ a
s
49
%p{:a => 'b',
:c => 'd',
:e => 'f'}
- raise 'foo'
s
3
foo
s
44
%p{:a => 'b',
:c => raise('foo'),
:e => 'f'}
s
44
%p{:a => 'b',
:c => 'd',
:e => raise('foo')}
s
7
 %p foo
s
54
Indenting at the beginning of the document is illegal.
s
8
  %p foo
s
5
- end
s
174
You don't need to use "- end" in Haml. Un-indent to close a block:
- if foo?
  %strong Foo!
- else
  Not foo.
%p This line is un-indented, so it isn't part of the "if" block

x
6
rstrip
s
11
 
	
 %p foo
s
9


 %p foo
s
13
%p
  foo
 foo
s
117
Inconsistent indentation: 1 space was used for indentation, but the rest of the document was indented using 2 spaces.
s
16
%p
  foo
%p
 foo
s
13
%p
		foo
	foo
s
113
Inconsistent indentation: 1 tab was used for indentation, but the rest of the document was indented using 2 tabs.
s
15
%p
  foo
   foo
s
119
Inconsistent indentation: 3 spaces were used for indentation, but the rest of the document was indented using 2 spaces.
s
20
%p
  foo
  %p
   bar
s
30
%p
  :plain
     bar
   	  baz
s
119
Inconsistent indentation: "   \t  " was used for indentation, but the rest of the document was indented using 2 spaces.
s
19
%p
  foo
%p
    bar
s
61
The line was indented 2 levels deeper than the previous line.
s
25
%p
  foo
  %p
        bar
s
61
The line was indented 3 levels deeper than the previous line.
s
8
%p
 	foo
s
43
Indentation can't use both tabs and spaces.
s
3
%p(
s
28
Invalid attribute list: "(".
s
12
%p(foo=
bar)
s
32
Invalid attribute list: "(foo=".
s
8
%p(foo=)
s
33
Invalid attribute list: "(foo=)".
s
13
%p(foo 'bar')
s
38
Invalid attribute list: "(foo 'bar')".
s
24
%p(foo 'bar'
baz='bang')
s
37
Invalid attribute list: "(foo 'bar'".
s
34
%p(foo='bar'
baz 'bang'
bip='bop')
s
48
Invalid attribute list: "(foo='bar' baz 'bang'".
s
31
%p{:foo => 'bar' :bar => 'baz'}
x
7
compile
s
12
%p{:foo => }
s
12
%p{=> 'bar'}
s
16
%p{:foo => 'bar}
s
17
%p{'foo => 'bar'}
s
17
%p{:foo => 'bar"}
s
20
- raise 'foo'



bar
s
20
= 'foo'
-raise 'foo'
s
16



- raise 'foo'
s
44
%p foo |
   bar |
   baz |
bop
- raise 'foo'
s
11
foo


  bar
s
10
%p/

  bar
s
13
%p foo

  bar
s
12
/ foo

  bar
s
10
!!!

  bar
s
35
foo
:ruby
  1
  2
  3
- raise 'foo'
s
34
foo
:erb
  1
  2
  3
- raise 'foo'
s
36
foo
:plain
  1
  2
  3
- raise 'foo'
s
38
foo
:plain
  1
  2
  3
4
- raise 'foo'
s
41
foo
:plain
  1
  2
  3#{''}
- raise 'foo'
s
43
foo
:plain
  1
  2
  3#{''}
4
- raise 'foo'
s
35
foo
:plain
  1
  2
  #{raise 'foo'}
s
30
= raise 'foo'
foo
bar
baz
bang
x
9
const_set
x
4
User
x
6
Struct
n
x
3
new
x
8
allocate
s
4
User
x
2
id
x
10
initialize
x
8
Rubinius
n
x
15
CustomHamlClass
n
x
10
open_class
n
x
14
__class_init__
M
1
n
n
x
15
CustomHamlClass
i
17
5
66
45
0
1
7
2
7
3
65
67
48
4
49
5
4
11
I
5
I
0
I
0
I
0
n
p
6
x
8
Rubinius
n
x
15
haml_object_ref
M
1
n
n
x
15
haml_object_ref
i
4
7
0
64
11
I
1
I
0
I
0
I
0
n
p
1
s
8
my_thing
p
5
I
0
I
5d
I
0
I
5e
I
4
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
x
17
method_visibility
x
15
add_defn_method
p
3
I
2
I
5d
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
x
13
attach_method
n
x
6
render
M
1
n
n
x
6
render
i
104
23
1
10
14
44
43
0
78
49
1
1
19
1
15
95
19
2
15
20
1
7
2
49
3
1
13
10
50
15
45
4
5
13
71
6
47
9
48
47
48
7
13
47
48
8
15
8
50
48
6
19
3
15
20
1
7
9
49
3
1
13
10
71
15
44
43
0
78
49
1
1
19
4
15
5
20
0
20
1
47
49
10
2
20
3
20
4
20
2
13
70
10
100
44
43
11
12
49
12
1
50
13
2
11
I
a
I
5
I
1
I
2
n
p
14
x
4
Hash
x
16
new_from_literal
x
5
scope
x
6
delete
x
6
Object
n
x
3
new
x
8
allocate
x
10
initialize
x
6
locals
x
6
engine
x
4
Proc
x
14
__from_block__
x
7
to_html
p
9
I
0
I
62
I
12
I
63
I
35
I
64
I
4a
I
65
I
68
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
5
x
4
text
x
7
options
x
5
block
x
5
scope
x
6
locals
x
17
method_visibility
x
15
add_defn_method
n
x
6
engine
M
1
n
n
x
6
engine
i
159
23
1
10
14
44
43
0
78
49
1
1
19
1
15
20
1
7
2
49
3
1
9
26
1
8
124
77
19
2
15
4
5
78
98
4
2
13
9
55
15
4
5
78
98
4
2
7
5
64
49
6
1
78
83
7
10
96
5
47
48
8
20
2
79
81
9
19
2
49
3
1
7
10
13
70
9
89
15
45
11
12
7
13
78
49
14
2
6
10
49
15
1
15
68
8
30
1
15
20
1
7
2
7
16
4
5
78
98
4
2
47
48
17
7
18
63
3
13
18
3
49
19
2
15
15
45
20
21
43
22
13
71
14
47
9
151
47
48
23
13
20
0
20
1
47
49
24
2
15
8
158
20
0
20
1
49
14
2
11
I
8
I
3
I
1
I
2
n
p
25
x
4
Hash
x
16
new_from_literal
x
8
filename
x
2
[]
x
24
regexp_last_match_result
s
5
test_
x
5
index
x
2
==
x
6
caller
x
1
+
n
x
6
Regexp
n
s
7
`(.+?)'
x
3
new
x
2
=~
s
1
(
x
4
to_s
s
1
)
x
3
[]=
x
4
Haml
n
x
6
Engine
x
8
allocate
x
10
initialize
p
13
I
0
I
68
I
e
I
69
I
1a
I
6b
I
1e
I
6c
I
62
I
6d
I
7d
I
6f
I
9f
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
3
x
4
text
x
7
options
x
1
i
n
x
17
test_empty_render
M
1
n
n
x
17
test_empty_render
i
17
5
7
0
64
5
7
0
64
47
49
1
1
47
49
2
2
11
I
4
I
0
I
0
I
0
n
p
3
s
0

x
6
render
x
12
assert_equal
p
5
I
0
I
72
I
0
I
73
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
24
test_flexible_tabulation
M
1
n
n
x
24
test_flexible_tabulation
i
51
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
15
5
7
0
64
5
7
4
64
47
49
2
1
47
49
3
2
15
5
7
5
64
5
7
6
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
7
s
51
<p>
  foo
</p>
<q>
  bar
  <a>
    baz
  </a>
</q>

s
25
%p
 foo
%q
 bar
 %a
  baz
x
6
render
x
12
assert_equal
s
25
%p
	foo
%q
	bar
	%a
		baz
s
30
<p>
      	 	 bar
   baz
</p>

s
36
%p
  :plain
        	 	 bar
     baz
p
21
I
0
I
76
I
0
I
77
I
4
I
78
I
c
I
77
I
11
I
79
I
15
I
7a
I
1d
I
79
I
22
I
7b
I
26
I
7c
I
2e
I
7b
I
33
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
37
test_empty_render_should_remain_empty
M
1
n
n
x
37
test_empty_render_should_remain_empty
i
17
5
7
0
64
5
7
0
64
47
49
1
1
47
49
2
2
11
I
4
I
0
I
0
I
0
n
p
3
s
0

x
6
render
x
12
assert_equal
p
5
I
0
I
7f
I
0
I
80
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
39
test_attributes_should_render_correctly
M
1
n
n
x
39
test_attributes_should_render_correctly
i
19
5
7
0
64
5
7
1
64
47
49
2
1
48
3
47
49
4
2
11
I
4
I
0
I
0
I
0
n
p
5
s
41
<div class='atlantis' style='ugly'></div>
s
27
.atlantis{:style => 'ugly'}
x
6
render
x
5
chomp
x
12
assert_equal
p
5
I
0
I
83
I
0
I
84
I
13
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
59
test_css_id_as_attribute_should_be_appended_with_underscore
M
1
n
n
x
59
test_css_id_as_attribute_should_be_appended_with_underscore
i
38
5
7
0
64
5
7
1
64
47
49
2
1
48
3
47
49
4
2
15
5
7
0
64
5
7
5
64
47
49
2
1
48
3
47
49
4
2
11
I
4
I
0
I
0
I
0
n
p
6
s
24
<div id='my_id_1'></div>
s
18
#my_id{:id => '1'}
x
6
render
x
5
chomp
x
12
assert_equal
s
16
#my_id{:id => 1}
p
7
I
0
I
87
I
0
I
88
I
13
I
89
I
26
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
44
test_ruby_code_should_work_inside_attributes
M
1
n
n
x
44
test_ruby_code_should_work_inside_attributes
i
25
7
0
64
19
0
15
5
7
1
64
5
7
2
64
47
49
3
1
48
4
47
49
5
2
11
I
5
I
1
I
0
I
0
n
p
6
s
7
hcatlin
s
20
<p class='3'>foo</p>
s
21
%p{:class => 1+2} foo
x
6
render
x
5
chomp
x
12
assert_equal
p
7
I
0
I
8c
I
0
I
8d
I
6
I
8e
I
19
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
1
x
6
author
n
x
26
test_class_attr_with_array
M
1
n
n
x
26
test_class_attr_with_array
i
153
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
15
5
7
4
64
5
7
5
64
47
49
2
1
47
49
3
2
15
5
7
6
64
5
7
7
64
47
49
2
1
47
49
3
2
15
5
7
8
64
5
7
9
64
47
49
2
1
47
49
3
2
15
5
7
0
64
5
7
10
64
47
49
2
1
47
49
3
2
15
5
7
11
64
5
7
12
64
47
49
2
1
47
49
3
2
15
5
7
13
64
5
7
14
64
47
49
2
1
47
49
3
2
15
5
7
15
64
5
7
16
64
47
49
2
1
47
49
3
2
15
5
7
17
64
5
7
18
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
19
s
23
<p class='a b'>foo</p>

s
25
%p{:class => %w[a b]} foo
x
6
render
x
12
assert_equal
s
27
<p class='a b css'>foo</p>

s
29
%p.css{:class => %w[a b]} foo
s
25
<p class='b css'>foo</p>

s
31
%p.css{:class => %w[css b]} foo
s
27
<p class='a b c d'>foo</p>

s
36
%p{:class => [%w[a b], %w[c d]]} foo
s
27
%p{:class => [:a, :b] } foo
s
20
<p class=''>foo</p>

s
31
%p{:class => [nil, false] } foo
s
21
<p class='a'>foo</p>

s
20
%p{:class => :a} foo
s
11
<p>foo</p>

s
23
%p{:class => false} foo
s
28
<p class='a b html'>foo</p>

s
39
%p(class='html'){:class => %w[a b]} foo
p
21
I
0
I
91
I
0
I
92
I
11
I
93
I
22
I
94
I
33
I
95
I
44
I
96
I
55
I
97
I
66
I
98
I
77
I
99
I
88
I
9a
I
99
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
23
test_id_attr_with_array
M
1
n
n
x
23
test_id_attr_with_array
i
136
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
15
5
7
4
64
5
7
5
64
47
49
2
1
47
49
3
2
15
5
7
6
64
5
7
7
64
47
49
2
1
47
49
3
2
15
5
7
0
64
5
7
8
64
47
49
2
1
47
49
3
2
15
5
7
9
64
5
7
10
64
47
49
2
1
47
49
3
2
15
5
7
11
64
5
7
12
64
47
49
2
1
47
49
3
2
15
5
7
13
64
5
7
14
64
47
49
2
1
47
49
3
2
15
5
7
15
64
5
7
16
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
17
s
20
<p id='a_b'>foo</p>

s
22
%p{:id => %w[a b]} foo
x
6
render
x
12
assert_equal
s
24
<p id='css_a_b'>foo</p>

s
26
%p#css{:id => %w[a b]} foo
s
24
<p id='a_b_c_d'>foo</p>

s
33
%p{:id => [%w[a b], %w[c d]]} foo
s
24
%p{:id => [:a, :b] } foo
s
17
<p id=''>foo</p>

s
28
%p{:id => [nil, false] } foo
s
18
<p id='a'>foo</p>

s
17
%p{:id => :a} foo
s
11
<p>foo</p>

s
20
%p{:id => false} foo
s
25
<p id='html_a_b'>foo</p>

s
33
%p(id='html'){:id => %w[a b]} foo
p
19
I
0
I
9d
I
0
I
9e
I
11
I
9f
I
22
I
a0
I
33
I
a1
I
44
I
a2
I
55
I
a3
I
66
I
a4
I
77
I
a5
I
88
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
39
test_dynamic_attributes_with_no_content
M
1
n
n
x
39
test_dynamic_attributes_with_no_content
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
47
<p>
  <a href='http://haml-lang.com'></a>
</p>

s
46
%p
  %a{:href => "http://" + "haml-lang.com"}

x
6
render
x
12
assert_equal
p
5
I
0
I
a8
I
0
I
a9
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
25
test_attributes_with_to_s
M
1
n
n
x
25
test_attributes_with_to_s
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
72
<p id='foo_2'></p>
<p class='2 foo'></p>
<p blaz='2'></p>
<p 2='2'></p>

s
75
%p#foo{:id => 1+1}
%p.foo{:class => 1+1}
%p{:blaz => 1+1}
%p{(1+1) => 1+1}

x
6
render
x
12
assert_equal
p
5
I
0
I
b3
I
0
I
b4
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
32
test_nil_should_render_empty_tag
M
1
n
n
x
32
test_nil_should_render_empty_tag
i
19
5
7
0
64
5
7
1
64
47
49
2
1
48
3
47
49
4
2
11
I
4
I
0
I
0
I
0
n
p
5
s
33
<div class='no_attributes'></div>
s
27
.no_attributes{:nil => nil}
x
6
render
x
5
chomp
x
12
assert_equal
p
9
I
0
I
c1
I
0
I
c2
I
4
I
c3
I
e
I
c2
I
13
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
44
test_strings_should_get_stripped_inside_tags
M
1
n
n
x
44
test_strings_should_get_stripped_inside_tags
i
19
5
7
0
64
5
7
1
64
47
49
2
1
48
3
47
49
4
2
11
I
4
I
0
I
0
I
0
n
p
5
s
69
<div class='stripped'>This should have no spaces in front of it</div>
s
54
.stripped    This should have no spaces in front of it
x
6
render
x
5
chomp
x
12
assert_equal
p
9
I
0
I
c6
I
0
I
c7
I
4
I
c8
I
e
I
c7
I
13
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
33
test_one_liner_should_be_one_line
M
1
n
n
x
33
test_one_liner_should_be_one_line
i
19
5
7
0
64
5
7
1
64
47
49
2
1
48
3
47
49
4
2
11
I
4
I
0
I
0
I
0
n
p
5
s
12
<p>Hello</p>
s
8
%p Hello
x
6
render
x
5
chomp
x
12
assert_equal
p
5
I
0
I
cb
I
0
I
cc
I
13
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
48
test_one_liner_with_newline_shouldnt_be_one_line
M
1
n
n
x
48
test_one_liner_with_newline_shouldnt_be_one_line
i
19
5
7
0
64
5
7
1
64
47
49
2
1
48
3
47
49
4
2
11
I
4
I
0
I
0
I
0
n
p
5
s
20
<p>
  foo
  bar
</p>
s
14
%p= "foo\nbar"
x
6
render
x
5
chomp
x
12
assert_equal
p
5
I
0
I
cf
I
0
I
d0
I
13
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
17
test_multi_render
M
1
n
n
x
17
test_multi_render
i
50
5
7
0
64
47
49
1
1
19
0
15
5
7
2
64
20
0
48
3
47
49
4
2
15
5
7
2
64
20
0
48
3
47
49
4
2
15
5
7
2
64
20
0
48
3
47
49
4
2
11
I
4
I
1
I
0
I
0
n
p
5
s
17
%strong Hi there!
x
6
engine
s
27
<strong>Hi there!</strong>

x
7
to_html
x
12
assert_equal
p
11
I
0
I
d3
I
0
I
d4
I
b
I
d5
I
18
I
d6
I
25
I
d7
I
32
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
1
x
6
engine
n
x
18
test_interpolation
M
1
n
n
x
18
test_interpolation
i
96
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
44
43
2
79
49
3
1
13
7
5
7
6
64
49
7
2
15
49
7
2
15
47
49
8
2
47
49
9
2
15
5
7
10
64
5
7
11
64
44
43
2
79
49
3
1
13
7
4
44
43
2
79
49
3
1
13
7
5
7
6
64
49
7
2
15
49
7
2
15
47
49
8
2
47
49
9
2
11
I
b
I
0
I
0
I
0
n
p
12
s
19
<p>Hello World</p>

s
15
%p Hello #{who}
x
4
Hash
x
16
new_from_literal
x
6
locals
x
3
who
s
5
World
x
3
[]=
x
6
render
x
12
assert_equal
s
23
<p>
  Hello World
</p>

s
17
%p
  Hello #{who}
p
7
I
0
I
da
I
0
I
db
I
30
I
dc
I
60
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
44
test_interpolation_in_the_middle_of_a_string
M
1
n
n
x
44
test_interpolation_in_the_middle_of_a_string
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
18
"title 'Title'. "

s
22
"title '#{"Title"}'. "
x
6
render
x
12
assert_equal
p
9
I
0
I
df
I
0
I
e0
I
4
I
e1
I
c
I
e0
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
45
test_interpolation_at_the_beginning_of_a_line
M
1
n
n
x
45
test_interpolation_at_the_beginning_of_a_line
i
34
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
15
5
7
4
64
5
7
5
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
6
s
9
<p>2</p>

s
11
%p #{1 + 1}
x
6
render
x
12
assert_equal
s
13
<p>
  2
</p>

s
13
%p
  #{1 + 1}
p
7
I
0
I
e4
I
0
I
e5
I
11
I
e6
I
22
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
26
test_escaped_interpolation
M
1
n
n
x
26
test_escaped_interpolation
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
27
<p>Foo &amp; Bar & Baz</p>

s
24
%p& Foo #{"&"} Bar & Baz
x
6
render
x
12
assert_equal
p
5
I
0
I
e9
I
0
I
ea
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
41
test_nil_tag_value_should_render_as_empty
M
1
n
n
x
41
test_nil_tag_value_should_render_as_empty
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
8
<p></p>

s
7
%p= nil
x
6
render
x
12
assert_equal
p
5
I
0
I
ed
I
0
I
ee
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
46
test_tag_with_failed_if_should_render_as_empty
M
1
n
n
x
46
test_tag_with_failed_if_should_render_as_empty
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
8
<p></p>

s
20
%p= 'Hello' if false
x
6
render
x
12
assert_equal
p
5
I
0
I
f1
I
0
I
f2
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
38
test_static_attributes_with_empty_attr
M
1
n
n
x
38
test_static_attributes_with_empty_attr
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
30
<img alt='' src='/foo.png' />

s
36
%img{:src => '/foo.png', :alt => ''}
x
6
render
x
12
assert_equal
p
5
I
0
I
f5
I
0
I
f6
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
39
test_dynamic_attributes_with_empty_attr
M
1
n
n
x
39
test_dynamic_attributes_with_empty_attr
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
30
<img alt='' src='/foo.png' />

s
59
%img{:width => nil, :src => '/foo.png', :alt => String.new}
x
6
render
x
12
assert_equal
p
5
I
0
I
f9
I
0
I
fa
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
33
test_attribute_hash_with_newlines
M
1
n
n
x
33
test_attribute_hash_with_newlines
i
68
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
15
5
7
4
64
5
7
5
64
47
49
2
1
47
49
3
2
15
5
7
6
64
5
7
7
64
47
49
2
1
47
49
3
2
15
5
7
8
64
5
7
9
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
10
s
24
<p a='b' c='d'>foop</p>

s
32
%p{:a => 'b',
   :c => 'd'} foop
x
6
render
x
12
assert_equal
s
28
<p a='b' c='d'>
  foop
</p>

s
34
%p{:a => 'b',
   :c => 'd'}
  foop
s
18
<p a='b' c='d' />

s
28
%p{:a => 'b',
   :c => 'd'}/
s
26
<p a='b' c='d' e='f'></p>

s
41
%p{:a => 'b',
   :c => 'd',
   :e => 'f'}
p
11
I
0
I
fd
I
0
I
fe
I
11
I
ff
I
22
I
100
I
33
I
101
I
44
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
29
test_attr_hashes_not_modified
M
1
n
n
x
29
test_attr_hashes_not_modified
i
92
44
43
0
79
49
1
1
13
7
2
7
3
64
49
4
2
15
19
0
15
5
7
5
64
5
7
6
64
44
43
0
79
49
1
1
13
7
7
44
43
0
79
49
1
1
13
7
8
20
0
49
4
2
15
49
4
2
15
47
49
9
2
47
49
10
2
15
5
20
0
44
43
0
79
49
1
1
13
7
2
7
3
64
49
4
2
15
47
49
10
2
11
I
c
I
1
I
0
I
0
n
p
11
x
4
Hash
x
16
new_from_literal
x
5
color
s
3
red
x
3
[]=
s
88
<div color='red'></div>
<div class='special' color='red'></div>
<div color='red'></div>

s
37
%div{hash}
.special{hash}
%div{hash}

x
6
locals
x
4
hash
x
6
render
x
12
assert_equal
p
9
I
0
I
104
I
0
I
105
I
14
I
106
I
43
I
10f
I
5c
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
1
x
4
hash
n
x
26
test_end_of_file_multiline
M
1
n
n
x
26
test_end_of_file_multiline
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
27
<p>0</p>
<p>1</p>
<p>2</p>

s
33
- for i in (0...3)
  %p= |
   i |
x
6
render
x
12
assert_equal
p
5
I
0
I
112
I
0
I
113
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
15
test_cr_newline
M
1
n
n
x
15
test_cr_newline
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
45
<p>foo</p>
<p>bar</p>
<p>baz</p>
<p>boom</p>

s
30
%p foo%p bar
%p baz
%p boom
x
6
render
x
12
assert_equal
p
5
I
0
I
116
I
0
I
117
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
14
test_textareas
M
1
n
n
x
14
test_textareas
i
94
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
15
5
7
4
64
5
7
5
64
47
49
2
1
47
49
3
2
15
5
7
6
7
7
64
4
100
49
8
1
47
48
9
7
10
63
3
5
7
11
7
7
64
4
100
49
8
1
47
48
9
63
2
47
49
2
1
47
49
3
2
15
5
7
12
64
5
7
13
64
47
49
2
1
47
49
3
2
11
I
6
I
0
I
0
I
0
n
p
14
s
52
<textarea>Foo&#x000A;  bar&#x000A;   baz</textarea>

s
31
%textarea= "Foo\n  bar\n   baz"
x
6
render
x
12
assert_equal
s
42
<pre>Foo&#x000A;  bar&#x000A;   baz</pre>

s
26
%pre= "Foo\n  bar\n   baz"
s
10
<textarea>
s
1
a
x
1
*
x
4
to_s
s
12
</textarea>

s
10
%textarea 
s
48
<p>
  <textarea>Foo
  Bar
  Baz</textarea>
</p>

s
39
%p
  %textarea
    Foo
    Bar
    Baz

p
23
I
0
I
11a
I
0
I
11b
I
4
I
11c
I
c
I
11b
I
11
I
11e
I
15
I
11f
I
1d
I
11e
I
22
I
121
I
34
I
122
I
48
I
121
I
4d
I
124
I
5e
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
13
test_pre_code
M
1
n
n
x
13
test_pre_code
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
56
<pre><code>Foo&#x000A;  bar&#x000A;    baz</code></pre>

s
63
%pre
  %code
    :preserve
      Foo
        bar
          baz

x
6
render
x
12
assert_equal
p
5
I
0
I
12d
I
0
I
12e
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
23
test_boolean_attributes
M
1
n
n
x
23
test_boolean_attributes
i
132
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
7
5
49
6
2
15
47
49
7
2
47
49
8
2
15
5
7
9
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
7
10
49
6
2
15
47
49
7
2
47
49
8
2
15
5
7
11
64
5
7
12
64
44
43
2
79
49
3
1
13
7
4
7
5
49
6
2
15
47
49
7
2
47
49
8
2
15
5
7
11
64
5
7
12
64
44
43
2
79
49
3
1
13
7
4
7
10
49
6
2
15
47
49
7
2
47
49
8
2
11
I
8
I
0
I
0
I
0
n
p
13
s
33
<p bar baz='true' foo='bar'></p>

s
47
%p{:foo => 'bar', :bar => true, :baz => 'true'}
x
4
Hash
x
16
new_from_literal
x
6
format
x
5
html4
x
3
[]=
x
6
render
x
12
assert_equal
s
39
<p bar='bar' baz='true' foo='bar'></p>

x
5
xhtml
s
30
<p baz='false' foo='bar'></p>

s
49
%p{:foo => 'bar', :bar => false, :baz => 'false'}
p
27
I
0
I
13a
I
0
I
13b
I
4
I
13c
I
1c
I
13b
I
21
I
13d
I
25
I
13e
I
3d
I
13d
I
42
I
140
I
46
I
141
I
5e
I
140
I
63
I
142
I
67
I
143
I
7f
I
142
I
84
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
40
test_both_whitespace_nukes_work_together
M
1
n
n
x
40
test_both_whitespace_nukes_work_together
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
24
<p><q>Foo
  Bar</q></p>

s
22
%p
  %q><= "Foo\nBar"

x
6
render
x
12
assert_equal
p
5
I
0
I
146
I
0
I
147
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
15
test_nil_option
M
1
n
n
x
15
test_nil_option
i
32
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
1
49
5
2
15
47
49
6
2
47
49
7
2
11
I
8
I
0
I
0
I
0
n
p
8
s
18
<p foo='bar'></p>

s
17
%p{:foo => "bar"}
x
4
Hash
x
16
new_from_literal
x
12
attr_wrapper
x
3
[]=
x
6
render
x
12
assert_equal
p
5
I
0
I
150
I
0
I
151
I
20
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
39
test_whitespace_nuke_with_both_newlines
M
1
n
n
x
39
test_whitespace_nuke_with_both_newlines
i
34
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
15
5
7
4
64
5
7
5
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
6
s
11
<p>foo</p>

s
14
%p<= "\nfoo\n"
x
6
render
x
12
assert_equal
s
22
<p>
  <p>foo</p>
</p>

s
20
%p
  %p<= "\nfoo\n"

p
7
I
0
I
156
I
0
I
157
I
11
I
158
I
22
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
39
test_whitespace_nuke_with_tags_and_else
M
1
n
n
x
39
test_whitespace_nuke_with_tags_and_else
i
34
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
15
5
7
4
64
5
7
5
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
6
s
22
<a>
  <b>foo</b>
</a>

s
59
%a
  %b<
    - if false
      = "foo"
    - else
      foo

x
6
render
x
12
assert_equal
s
30
<a>
  <b>
    foo
  </b>
</a>

s
58
%a
  %b
    - if false
      = "foo"
    - else
      foo

p
7
I
0
I
162
I
0
I
163
I
11
I
170
I
22
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
44
test_outer_whitespace_nuke_with_empty_script
M
1
n
n
x
44
test_outer_whitespace_nuke_with_empty_script
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
21
<p>
  foo<a></a></p>

s
24
%p
  foo
  = "  "
  %a>

x
6
render
x
12
assert_equal
p
5
I
0
I
180
I
0
I
181
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
55
test_both_case_indentation_work_with_deeply_nested_code
M
1
n
n
x
55
test_both_case_indentation_work_with_deeply_nested_code
i
38
7
0
64
19
0
15
5
20
0
5
7
1
64
47
49
2
1
47
49
3
2
15
5
20
0
5
7
4
64
47
49
2
1
47
49
3
2
11
I
5
I
1
I
0
I
0
n
p
5
s
19
<h2>
  other
</h2>

s
73
- case 'other'
- when 'test'
  %h2
    hi
- when 'other'
  %h2
    other

x
6
render
x
12
assert_equal
s
85
- case 'other'
  - when 'test'
    %h2
      hi
  - when 'other'
    %h2
      other

p
9
I
0
I
18c
I
0
I
18d
I
6
I
192
I
16
I
19b
I
26
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
1
x
6
result
n
x
27
test_equals_block_with_ugly
M
1
n
n
x
27
test_equals_block_with_ugly
i
32
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
11
I
8
I
0
I
0
I
0
n
p
8
s
4
foo

s
24
= capture_haml do
  foo

x
4
Hash
x
16
new_from_literal
x
4
ugly
x
3
[]=
x
6
render
x
12
assert_equal
p
5
I
0
I
1a6
I
0
I
1a7
I
20
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
27
test_plain_equals_with_ugly
M
1
n
n
x
27
test_plain_equals_with_ugly
i
32
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
11
I
8
I
0
I
0
I
0
n
p
8
s
8
foo
bar

s
12
= "foo"
bar

x
4
Hash
x
16
new_from_literal
x
4
ugly
x
3
[]=
x
6
render
x
12
assert_equal
p
5
I
0
I
1ad
I
0
I
1ae
I
20
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
14
test_inline_if
M
1
n
n
x
14
test_inline_if
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
32
<p>One</p>
<p></p>
<p>Three</p>

s
70
- for name in ["One", "Two", "Three"]
  %p= name unless name == "Two"

x
6
render
x
12
assert_equal
p
5
I
0
I
1b4
I
0
I
1b5
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
25
test_end_with_method_call
M
1
n
n
x
25
test_end_with_method_call
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
12
2|3|4
b-a-r

s
117
= [1, 2, 3].map do |i|
  - i + 1
- end.join("|")
= "bar".gsub(/./) do |s|
  - s + "-"
- end.gsub(/-$/) do |s|
  - ''

x
6
render
x
12
assert_equal
p
5
I
0
I
1bf
I
0
I
1c0
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
32
test_nested_end_with_method_call
M
1
n
n
x
32
test_nested_end_with_method_call
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
25
<p>
  2|3|4
  b-a-r
</p>

s
134
%p
  = [1, 2, 3].map do |i|
    - i + 1
  - end.join("|")
  = "bar".gsub(/./) do |s|
    - s + "-"
  - end.gsub(/-$/) do |s|
    - ''

x
6
render
x
12
assert_equal
p
5
I
0
I
1ce
I
0
I
1cf
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
26
test_silent_end_with_stuff
M
1
n
n
x
26
test_silent_end_with_stuff
i
34
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
15
5
7
4
64
5
7
5
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
6
s
10
e
d
c
b
a

s
72
- str = "abcde"
- if true
  = str.slice!(-1).chr
- end until str.empty?

x
6
render
x
12
assert_equal
s
11
<p>hi!</p>

s
69
- if true
  %p hi!
- end if "foo".gsub(/f/) do
  - "z"
- end + "bar"

p
7
I
0
I
1e0
I
0
I
1e1
I
11
I
1ee
I
22
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
38
test_multiline_with_colon_after_filter
M
1
n
n
x
38
test_multiline_with_colon_after_filter
i
34
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
15
5
7
4
64
5
7
5
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
6
s
8
Foo
Bar

s
61
:plain
  Foo
= { :a => "Bar",      |
    :b => "Baz" }[:a] |

x
6
render
x
12
assert_equal
s
5

Bar

s
55
:plain
= { :a => "Bar",      |
    :b => "Baz" }[:a] |

p
7
I
0
I
1f9
I
0
I
1fa
I
11
I
203
I
22
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
24
test_multiline_in_filter
M
1
n
n
x
24
test_multiline_in_filter
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
16
Foo |
Bar |
Baz

s
29
:plain
  Foo |
  Bar |
  Baz

x
6
render
x
12
assert_equal
p
5
I
0
I
20d
I
0
I
20e
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
16
test_curly_brace
M
1
n
n
x
16
test_curly_brace
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
10
Foo { Bar

s
13
== Foo { Bar

x
6
render
x
12
assert_equal
p
5
I
0
I
21a
I
0
I
21b
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
16
test_escape_html
M
1
n
n
x
16
test_escape_html
i
260
7
0
64
19
0
15
5
20
0
5
7
1
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
15
5
20
0
5
7
8
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
15
5
20
0
5
7
9
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
15
5
20
0
5
7
10
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
15
7
11
64
19
1
15
5
20
1
5
7
12
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
15
5
20
1
5
7
13
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
15
5
20
1
5
7
14
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
15
5
20
1
5
7
15
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
11
I
a
I
2
I
0
I
0
n
p
16
s
14
&amp;
&
&amp;

s
20
&= "&"
!= "&"
= "&"

x
4
Hash
x
16
new_from_literal
x
11
escape_html
x
3
[]=
x
6
render
x
12
assert_equal
s
20
&~ "&"
!~ "&"
~ "&"

s
25
& #{"&"}
! #{"&"}
#{"&"}

s
32
&== #{"&"}
!== #{"&"}
== #{"&"}

s
35
<p>&amp;</p>
<p>&</p>
<p>&amp;</p>

s
26
%p&= "&"
%p!= "&"
%p= "&"

s
26
%p&~ "&"
%p!~ "&"
%p~ "&"

s
32
%p& #{"&"}
%p! #{"&"}
%p #{"&"}

s
38
%p&== #{"&"}
%p!== #{"&"}
%p== #{"&"}

p
23
I
0
I
222
I
0
I
223
I
6
I
229
I
25
I
22f
I
44
I
235
I
63
I
23b
I
82
I
241
I
88
I
247
I
a7
I
24d
I
c6
I
253
I
e5
I
259
I
104
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
2
x
4
html
x
8
tag_html
n
x
24
test_new_attrs_with_hash
M
1
n
n
x
24
test_new_attrs_with_hash
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
17
<a href='#'></a>

s
12
%a(href="#")
x
6
render
x
12
assert_equal
p
5
I
0
I
260
I
0
I
261
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
58
test_javascript_filter_with_dynamic_interp_and_escape_html
M
1
n
n
x
58
test_javascript_filter_with_dynamic_interp_and_escape_html
i
32
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
11
I
8
I
0
I
0
I
0
n
p
8
s
76
<script type='text/javascript'>
  //<![CDATA[
    & < > &
  //]]>
</script>

s
26
:javascript
 & < > #{"&"}

x
4
Hash
x
16
new_from_literal
x
11
escape_html
x
3
[]=
x
6
render
x
12
assert_equal
p
5
I
0
I
264
I
0
I
265
I
20
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
35
test_erb_filter_with_multiline_expr
M
1
n
n
x
35
test_erb_filter_with_multiline_expr
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
10
foobarbaz

s
48
:erb
  <%= "foo" +
      "bar" +
      "baz" %>

x
6
render
x
12
assert_equal
p
5
I
0
I
271
I
0
I
272
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
35
test_silent_script_with_hyphen_case
M
1
n
n
x
35
test_silent_script_with_hyphen_case
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
0

s
21
- 'foo-case-bar-case'
x
6
render
x
12
assert_equal
p
5
I
0
I
27c
I
0
I
27d
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
34
test_silent_script_with_hyphen_end
M
1
n
n
x
34
test_silent_script_with_hyphen_end
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
0

s
19
- 'foo-end-bar-end'
x
6
render
x
12
assert_equal
p
5
I
0
I
280
I
0
I
281
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
44
test_silent_script_with_hyphen_end_and_block
M
1
n
n
x
44
test_silent_script_with_hyphen_end_and_block
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
30
<p>foo-end</p>
<p>bar-end</p>

s
64
- ("foo-end-bar-end".gsub(/\w+-end/) do |s|
  %p= s
- end; nil)

x
6
render
x
12
assert_equal
p
5
I
0
I
284
I
0
I
285
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
32
test_if_without_content_and_else
M
1
n
n
x
32
test_if_without_content_and_else
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
4
foo

s
24
- if false
- else
  foo

x
6
render
x
12
assert_equal
p
5
I
0
I
28f
I
0
I
290
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
30
test_html_attributes_with_hash
M
1
n
n
x
30
test_html_attributes_with_hash
i
51
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
15
5
7
4
64
5
7
5
64
47
49
2
1
47
49
3
2
15
5
7
6
64
5
7
7
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
8
s
30
<a href='#' rel='top'>Foo</a>

s
26
%a(href="#" rel="top") Foo
x
6
render
x
12
assert_equal
s
20
<a href='#'>Foo</a>

s
21
%a(href="#") #{"Foo"}
s
18
<a href='#"'></a>

s
14
%a(href="#\"")
p
17
I
0
I
299
I
0
I
29a
I
4
I
29b
I
c
I
29a
I
11
I
29c
I
15
I
29d
I
1d
I
29c
I
22
I
29f
I
33
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
35
test_filter_with_newline_and_interp
M
1
n
n
x
35
test_filter_with_newline_and_interp
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
3
\n

s
17
:plain
  \n#{""}

x
6
render
x
12
assert_equal
p
5
I
0
I
2a2
I
0
I
2a3
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
35
test_ampersand_equals_should_escape
M
1
n
n
x
35
test_ampersand_equals_should_escape
i
32
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
3
49
5
2
15
47
49
6
2
47
49
7
2
11
I
8
I
0
I
0
I
0
n
p
8
s
25
<p>
  foo &amp; bar
</p>

s
19
%p
  &= 'foo & bar'
x
4
Hash
x
16
new_from_literal
x
11
escape_html
x
3
[]=
x
6
render
x
12
assert_equal
p
5
I
0
I
2ad
I
0
I
2ae
I
20
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
42
test_ampersand_equals_inline_should_escape
M
1
n
n
x
42
test_ampersand_equals_inline_should_escape
i
32
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
3
49
5
2
15
47
49
6
2
47
49
7
2
11
I
8
I
0
I
0
I
0
n
p
8
s
21
<p>foo &amp; bar</p>

s
16
%p&= 'foo & bar'
x
4
Hash
x
16
new_from_literal
x
11
escape_html
x
3
[]=
x
6
render
x
12
assert_equal
p
5
I
0
I
2b1
I
0
I
2b2
I
20
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
51
test_ampersand_equals_should_escape_before_preserve
M
1
n
n
x
51
test_ampersand_equals_should_escape_before_preserve
i
32
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
3
49
5
2
15
47
49
6
2
47
49
7
2
11
I
8
I
0
I
0
I
0
n
p
8
s
36
<textarea>foo&#x000A;bar</textarea>

s
22
%textarea&= "foo\nbar"
x
4
Hash
x
16
new_from_literal
x
11
escape_html
x
3
[]=
x
6
render
x
12
assert_equal
p
5
I
0
I
2b5
I
0
I
2b6
I
20
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
34
test_bang_equals_should_not_escape
M
1
n
n
x
34
test_bang_equals_should_not_escape
i
32
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
11
I
8
I
0
I
0
I
0
n
p
8
s
21
<p>
  foo & bar
</p>

s
19
%p
  != 'foo & bar'
x
4
Hash
x
16
new_from_literal
x
11
escape_html
x
3
[]=
x
6
render
x
12
assert_equal
p
5
I
0
I
2b9
I
0
I
2ba
I
20
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
41
test_bang_equals_inline_should_not_escape
M
1
n
n
x
41
test_bang_equals_inline_should_not_escape
i
32
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
11
I
8
I
0
I
0
I
0
n
p
8
s
17
<p>foo & bar</p>

s
16
%p!= 'foo & bar'
x
4
Hash
x
16
new_from_literal
x
11
escape_html
x
3
[]=
x
6
render
x
12
assert_equal
p
5
I
0
I
2bd
I
0
I
2be
I
20
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
40
test_static_attributes_should_be_escaped
M
1
n
n
x
40
test_static_attributes_should_be_escaped
i
68
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
15
5
7
4
64
5
7
5
64
47
49
2
1
47
49
3
2
15
5
7
6
64
5
7
7
64
47
49
2
1
47
49
3
2
15
5
7
8
64
5
7
9
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
10
s
49
<img class='atlantis' style='ugly&amp;stupid' />

s
38
%img.atlantis{:style => 'ugly&stupid'}
x
6
render
x
12
assert_equal
s
56
<div class='atlantis' style='ugly&amp;stupid'>foo</div>

s
38
.atlantis{:style => 'ugly&stupid'} foo
s
52
<p class='atlantis' style='ugly&amp;stupid'>foo</p>

s
43
%p.atlantis{:style => 'ugly&stupid'}= 'foo'
s
52
<p class='atlantis' style='ugly&#x000A;stupid'></p>

s
37
%p.atlantis{:style => "ugly\nstupid"}
p
27
I
0
I
2c1
I
0
I
2c2
I
4
I
2c3
I
c
I
2c2
I
11
I
2c4
I
15
I
2c5
I
1d
I
2c4
I
22
I
2c6
I
26
I
2c7
I
2e
I
2c6
I
33
I
2c8
I
37
I
2c9
I
3f
I
2c8
I
44
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
41
test_dynamic_attributes_should_be_escaped
M
1
n
n
x
41
test_dynamic_attributes_should_be_escaped
i
68
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
15
5
7
4
64
5
7
5
64
47
49
2
1
47
49
3
2
15
5
7
6
64
5
7
7
64
47
49
2
1
47
49
3
2
15
5
7
8
64
5
7
9
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
10
s
34
<img alt='' src='&amp;foo.png' />

s
59
%img{:width => nil, :src => '&foo.png', :alt => String.new}
x
6
render
x
12
assert_equal
s
37
<p alt='' src='&amp;foo.png'>foo</p>

s
61
%p{:width => nil, :src => '&foo.png', :alt => String.new} foo
s
41
<div alt='' src='&amp;foo.png'>foo</div>

s
66
%div{:width => nil, :src => '&foo.png', :alt => String.new}= 'foo'
s
37
<img alt='' src='foo&#x000A;.png' />

s
60
%img{:width => nil, :src => "foo\n.png", :alt => String.new}
p
27
I
0
I
2cc
I
0
I
2cd
I
4
I
2ce
I
c
I
2cd
I
11
I
2cf
I
15
I
2d0
I
1d
I
2cf
I
22
I
2d1
I
26
I
2d2
I
2e
I
2d1
I
33
I
2d3
I
37
I
2d4
I
3f
I
2d3
I
44
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
42
test_string_double_equals_should_be_esaped
M
1
n
n
x
42
test_string_double_equals_should_be_esaped
i
64
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
15
5
7
8
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
3
49
5
2
15
47
49
6
2
47
49
7
2
11
I
8
I
0
I
0
I
0
n
p
9
s
14
<p>4&&lt;</p>

s
18
%p== #{2+2}&#{'<'}
x
4
Hash
x
16
new_from_literal
x
11
escape_html
x
3
[]=
x
6
render
x
12
assert_equal
s
11
<p>4&<</p>

p
7
I
0
I
2d7
I
0
I
2d8
I
20
I
2d9
I
40
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
40
test_escaped_inline_string_double_equals
M
1
n
n
x
40
test_escaped_inline_string_double_equals
i
64
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
15
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
3
49
5
2
15
47
49
6
2
47
49
7
2
11
I
8
I
0
I
0
I
0
n
p
8
s
14
<p>4&&lt;</p>

s
19
%p&== #{2+2}&#{'<'}
x
4
Hash
x
16
new_from_literal
x
11
escape_html
x
3
[]=
x
6
render
x
12
assert_equal
p
7
I
0
I
2dc
I
0
I
2dd
I
20
I
2de
I
40
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
42
test_unescaped_inline_string_double_equals
M
1
n
n
x
42
test_unescaped_inline_string_double_equals
i
64
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
15
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
3
49
5
2
15
47
49
6
2
47
49
7
2
11
I
8
I
0
I
0
I
0
n
p
8
s
11
<p>4&<</p>

s
19
%p!== #{2+2}&#{'<'}
x
4
Hash
x
16
new_from_literal
x
11
escape_html
x
3
[]=
x
6
render
x
12
assert_equal
p
7
I
0
I
2e1
I
0
I
2e2
I
20
I
2e3
I
40
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
33
test_escaped_string_double_equals
M
1
n
n
x
33
test_escaped_string_double_equals
i
64
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
15
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
3
49
5
2
15
47
49
6
2
47
49
7
2
11
I
8
I
0
I
0
I
0
n
p
8
s
18
<p>
  4&&lt;
</p>

s
22
%p
  &== #{2+2}&#{'<'}
x
4
Hash
x
16
new_from_literal
x
11
escape_html
x
3
[]=
x
6
render
x
12
assert_equal
p
7
I
0
I
2e6
I
0
I
2e7
I
20
I
2e8
I
40
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
35
test_unescaped_string_double_equals
M
1
n
n
x
35
test_unescaped_string_double_equals
i
64
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
15
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
3
49
5
2
15
47
49
6
2
47
49
7
2
11
I
8
I
0
I
0
I
0
n
p
8
s
15
<p>
  4&<
</p>

s
22
%p
  !== #{2+2}&#{'<'}
x
4
Hash
x
16
new_from_literal
x
11
escape_html
x
3
[]=
x
6
render
x
12
assert_equal
p
7
I
0
I
2eb
I
0
I
2ec
I
20
I
2ed
I
40
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
42
test_string_interpolation_should_be_esaped
M
1
n
n
x
42
test_string_interpolation_should_be_esaped
i
64
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
15
5
7
8
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
3
49
5
2
15
47
49
6
2
47
49
7
2
11
I
8
I
0
I
0
I
0
n
p
9
s
14
<p>4&&lt;</p>

s
16
%p #{2+2}&#{'<'}
x
4
Hash
x
16
new_from_literal
x
11
escape_html
x
3
[]=
x
6
render
x
12
assert_equal
s
11
<p>4&<</p>

p
7
I
0
I
2f0
I
0
I
2f1
I
20
I
2f2
I
40
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
40
test_escaped_inline_string_interpolation
M
1
n
n
x
40
test_escaped_inline_string_interpolation
i
64
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
15
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
3
49
5
2
15
47
49
6
2
47
49
7
2
11
I
8
I
0
I
0
I
0
n
p
8
s
14
<p>4&&lt;</p>

s
17
%p& #{2+2}&#{'<'}
x
4
Hash
x
16
new_from_literal
x
11
escape_html
x
3
[]=
x
6
render
x
12
assert_equal
p
7
I
0
I
2f5
I
0
I
2f6
I
20
I
2f7
I
40
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
42
test_unescaped_inline_string_interpolation
M
1
n
n
x
42
test_unescaped_inline_string_interpolation
i
64
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
15
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
3
49
5
2
15
47
49
6
2
47
49
7
2
11
I
8
I
0
I
0
I
0
n
p
8
s
11
<p>4&<</p>

s
17
%p! #{2+2}&#{'<'}
x
4
Hash
x
16
new_from_literal
x
11
escape_html
x
3
[]=
x
6
render
x
12
assert_equal
p
7
I
0
I
2fa
I
0
I
2fb
I
20
I
2fc
I
40
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
33
test_escaped_string_interpolation
M
1
n
n
x
33
test_escaped_string_interpolation
i
64
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
15
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
3
49
5
2
15
47
49
6
2
47
49
7
2
11
I
8
I
0
I
0
I
0
n
p
8
s
18
<p>
  4&&lt;
</p>

s
20
%p
  & #{2+2}&#{'<'}
x
4
Hash
x
16
new_from_literal
x
11
escape_html
x
3
[]=
x
6
render
x
12
assert_equal
p
7
I
0
I
2ff
I
0
I
300
I
20
I
301
I
40
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
35
test_unescaped_string_interpolation
M
1
n
n
x
35
test_unescaped_string_interpolation
i
64
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
15
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
3
49
5
2
15
47
49
6
2
47
49
7
2
11
I
8
I
0
I
0
I
0
n
p
8
s
15
<p>
  4&<
</p>

s
20
%p
  ! #{2+2}&#{'<'}
x
4
Hash
x
16
new_from_literal
x
11
escape_html
x
3
[]=
x
6
render
x
12
assert_equal
p
7
I
0
I
304
I
0
I
305
I
20
I
306
I
40
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
46
test_scripts_should_respect_escape_html_option
M
1
n
n
x
46
test_scripts_should_respect_escape_html_option
i
64
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
15
5
7
8
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
3
49
5
2
15
47
49
6
2
47
49
7
2
11
I
8
I
0
I
0
I
0
n
p
9
s
25
<p>
  foo &amp; bar
</p>

s
18
%p
  = 'foo & bar'
x
4
Hash
x
16
new_from_literal
x
11
escape_html
x
3
[]=
x
6
render
x
12
assert_equal
s
21
<p>
  foo & bar
</p>

p
7
I
0
I
309
I
0
I
30a
I
20
I
30b
I
40
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
53
test_inline_scripts_should_respect_escape_html_option
M
1
n
n
x
53
test_inline_scripts_should_respect_escape_html_option
i
64
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
15
5
7
8
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
3
49
5
2
15
47
49
6
2
47
49
7
2
11
I
8
I
0
I
0
I
0
n
p
9
s
21
<p>foo &amp; bar</p>

s
15
%p= 'foo & bar'
x
4
Hash
x
16
new_from_literal
x
11
escape_html
x
3
[]=
x
6
render
x
12
assert_equal
s
17
<p>foo & bar</p>

p
7
I
0
I
30e
I
0
I
30f
I
20
I
310
I
40
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
64
test_script_ending_in_comment_should_render_when_html_is_escaped
M
1
n
n
x
64
test_script_ending_in_comment_should_render_when_html_is_escaped
i
32
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
11
I
8
I
0
I
0
I
0
n
p
8
s
12
foo&amp;bar

s
20
= 'foo&bar' #comment
x
4
Hash
x
16
new_from_literal
x
11
escape_html
x
3
[]=
x
6
render
x
12
assert_equal
p
5
I
0
I
313
I
0
I
314
I
20
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
35
test_script_with_if_shouldnt_output
M
1
n
n
x
35
test_script_with_if_shouldnt_output
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
19
<p>foo</p>
<p></p>

s
29
%p= "foo"
%p= "bar" if false

x
6
render
x
12
assert_equal
p
5
I
0
I
317
I
0
I
318
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
22
test_filename_and_line
M
1
n
n
x
22
test_filename_and_line
i
236
26
93
0
15
29
43
0
5
7
0
64
44
43
1
80
49
2
1
13
7
3
7
4
64
49
5
2
15
13
7
6
80
49
5
2
15
47
49
7
2
30
8
115
26
93
1
15
24
13
45
8
9
12
49
10
1
10
60
8
110
15
24
19
0
15
5
45
11
12
43
13
20
0
47
49
14
2
15
5
7
15
13
70
9
97
15
45
16
17
7
18
78
49
19
2
6
15
20
0
48
20
48
21
47
49
22
2
25
8
115
15
92
1
27
34
92
0
27
15
26
93
2
15
29
162
0
5
7
23
64
44
43
1
80
49
2
1
13
7
3
7
4
64
49
5
2
15
13
7
6
80
49
5
2
15
47
49
7
2
30
8
232
26
93
3
15
24
13
45
8
24
12
49
10
1
10
179
8
227
15
24
19
0
15
5
45
25
26
20
0
47
49
14
2
15
5
7
27
13
70
9
214
15
45
16
28
7
29
78
49
19
2
6
27
20
0
48
20
48
21
47
49
22
2
25
8
232
15
92
3
27
34
92
2
27
11
I
b
I
1
I
0
I
0
n
p
30
s
8


 = abc
x
4
Hash
x
16
new_from_literal
x
8
filename
s
4
test
x
3
[]=
x
4
line
x
6
render
x
9
Exception
n
x
3
===
x
4
Haml
n
x
11
SyntaxError
x
14
assert_kind_of
n
x
6
Regexp
n
s
6
test:4
x
3
new
x
9
backtrace
x
5
first
x
12
assert_match
s
16


= 123

= nil[]
n
x
13
NoMethodError
n
n
n
s
6
test:6
p
23
I
0
I
323
I
0
I
325
I
30
I
326
I
3d
I
329
I
41
I
327
I
4e
I
328
I
77
I
32c
I
a7
I
32d
I
b4
I
330
I
b8
I
32e
I
c3
I
32f
I
ec
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
1
x
1
e
n
x
14
test_stop_eval
M
1
n
n
x
14
test_stop_eval
i
192
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
15
5
7
0
64
5
7
8
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
15
5
7
9
64
5
7
10
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
15
5
7
11
64
5
7
12
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
15
5
7
13
64
5
7
14
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
15
5
7
0
64
5
7
15
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
11
I
8
I
0
I
0
I
0
n
p
16
s
0

s
9
= 'Hello'
x
4
Hash
x
16
new_from_literal
x
13
suppress_eval
x
3
[]=
x
6
render
x
12
assert_equal
s
19
- haml_concat 'foo'
s
26
<div id='foo' yes='no' />

s
19
#foo{:yes => 'no'}/
s
17
<div id='foo' />

s
43
#foo{:yes => 'no', :call => a_function() }/
s
8
<div />

s
8
%div[1]/
s
27
:ruby
  Kernel.puts 'hello'
p
15
I
0
I
333
I
0
I
334
I
20
I
335
I
40
I
336
I
60
I
337
I
80
I
338
I
a0
I
339
I
c0
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
13
test_doctypes
M
1
n
n
x
13
test_doctypes
i
308
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
7
5
49
6
2
15
47
49
7
2
48
8
47
49
9
2
15
5
7
0
64
5
7
10
64
47
49
7
1
48
8
47
49
9
2
15
5
7
11
64
5
7
12
64
47
49
7
1
48
8
47
49
9
2
15
5
7
13
64
5
7
14
64
47
49
7
1
48
8
47
49
9
2
15
5
7
15
64
5
7
16
64
47
49
7
1
48
8
47
49
9
2
15
5
7
17
64
5
7
18
64
47
49
7
1
48
8
47
49
9
2
15
5
7
19
64
5
7
20
64
47
49
7
1
48
8
47
49
9
2
15
5
7
19
64
5
7
1
64
47
49
7
1
48
8
47
49
9
2
15
5
7
21
64
5
7
12
64
44
43
2
79
49
3
1
13
7
4
7
22
49
6
2
15
47
49
7
2
48
8
47
49
9
2
15
5
7
23
64
5
7
14
64
44
43
2
79
49
3
1
13
7
4
7
22
49
6
2
15
47
49
7
2
48
8
47
49
9
2
15
5
7
24
64
5
7
20
64
44
43
2
79
49
3
1
13
7
4
7
22
49
6
2
15
47
49
7
2
48
8
47
49
9
2
15
5
7
24
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
7
22
49
6
2
15
47
49
7
2
48
8
47
49
9
2
11
I
8
I
0
I
0
I
0
n
p
25
s
15
<!DOCTYPE html>
s
3
!!!
x
4
Hash
x
16
new_from_literal
x
6
format
x
5
html5
x
3
[]=
x
6
render
x
5
strip
x
12
assert_equal
s
5
!!! 5
s
109
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
s
10
!!! strict
s
113
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">
s
12
!!! frameset
s
126
<!DOCTYPE html PUBLIC "-//WAPFORUM//DTD XHTML Mobile 1.2//EN" "http://www.openmobilealliance.org/tech/DTD/xhtml-mobile12.dtd">
s
10
!!! mobile
s
109
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.1//EN" "http://www.w3.org/TR/xhtml-basic/xhtml-basic11.dtd">
s
9
!!! basic
s
121
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
s
16
!!! transitional
s
90
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
x
5
html4
s
101
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN" "http://www.w3.org/TR/html4/frameset.dtd">
s
102
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
p
71
I
0
I
33c
I
0
I
33d
I
4
I
33e
I
1e
I
33d
I
23
I
33f
I
36
I
340
I
3a
I
341
I
44
I
340
I
49
I
342
I
4d
I
343
I
57
I
342
I
5c
I
344
I
60
I
345
I
6a
I
344
I
6f
I
346
I
73
I
347
I
7d
I
346
I
82
I
348
I
86
I
349
I
90
I
348
I
95
I
34a
I
99
I
34b
I
a3
I
34a
I
a8
I
34c
I
ac
I
34d
I
c6
I
34c
I
cb
I
34e
I
cf
I
34f
I
e9
I
34e
I
ee
I
350
I
f2
I
351
I
10c
I
350
I
111
I
352
I
115
I
353
I
12f
I
352
I
134
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
17
test_attr_wrapper
M
1
n
n
x
17
test_attr_wrapper
i
170
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
7
5
64
49
6
2
15
47
49
7
2
47
49
8
2
15
5
7
9
64
5
7
10
64
44
43
2
79
49
3
1
13
7
4
7
11
64
49
6
2
15
47
49
7
2
47
49
8
2
15
5
7
12
64
5
7
13
64
44
43
2
79
49
3
1
13
7
4
7
11
64
49
6
2
15
47
49
7
2
47
49
8
2
15
5
7
14
64
5
7
15
64
44
43
2
79
49
3
1
13
7
4
7
11
64
49
6
2
15
47
49
7
2
47
49
8
2
15
5
7
16
64
5
7
17
64
44
43
2
79
49
3
1
13
7
4
7
11
64
49
6
2
15
47
49
7
2
47
49
8
2
11
I
8
I
0
I
0
I
0
n
p
18
s
24
<p strange=*attrs*></p>

s
24
%p{ :strange => 'attrs'}
x
4
Hash
x
16
new_from_literal
x
12
attr_wrapper
s
1
*
x
3
[]=
x
6
render
x
12
assert_equal
s
25
<p escaped='quo"te'></p>

s
25
%p{ :escaped => 'quo"te'}
s
1
"
s
25
<p escaped="quo'te"></p>

s
26
%p{ :escaped => 'quo\'te'}
s
31
<p escaped="q'uo&quot;te"></p>

s
27
%p{ :escaped => 'q\'uo"te'}
s
40
<?xml version="1.0" encoding="utf-8" ?>

s
7
!!! XML
p
13
I
0
I
356
I
0
I
357
I
22
I
358
I
44
I
359
I
66
I
35a
I
88
I
35b
I
aa
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
21
test_autoclose_option
M
1
n
n
x
21
test_autoclose_option
i
87
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
7
5
64
35
1
49
6
2
15
47
49
7
2
47
49
8
2
15
5
7
9
64
5
7
10
64
44
43
2
79
49
3
1
13
7
4
7
11
13
70
9
72
15
45
12
13
7
14
78
49
15
2
6
11
35
1
49
6
2
15
47
49
7
2
47
49
8
2
11
I
a
I
0
I
0
I
0
n
p
16
s
19
<flaz foo='bar' />

s
20
%flaz{:foo => 'bar'}
x
4
Hash
x
16
new_from_literal
x
9
autoclose
s
4
flaz
x
3
[]=
x
6
render
x
12
assert_equal
s
38
<flaz />
<flaznicate />
<flan></flan>

s
24
%flaz
%flaznicate
%flan

n
x
6
Regexp
n
s
5
^flaz
x
3
new
p
7
I
0
I
35e
I
0
I
35f
I
24
I
360
I
57
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
27
test_attrs_parsed_correctly
M
1
n
n
x
27
test_attrs_parsed_correctly
i
68
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
15
5
7
4
64
5
7
5
64
47
49
2
1
47
49
3
2
15
5
7
6
64
5
7
7
64
47
49
2
1
47
49
3
2
15
5
7
8
64
5
7
9
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
10
s
37
<p boom=>biddly='bar =&gt; baz'></p>

s
34
%p{'boom=>biddly' => 'bar => baz'}
x
6
render
x
12
assert_equal
s
27
<p foo,bar='baz, qux'></p>

s
27
%p{'foo,bar' => 'baz, qux'}
s
32
<p escaped='quo&#x000A;te'></p>

s
26
%p{ :escaped => "quo\nte"}
s
25
<p escaped='quo4te'></p>

s
32
%p{ :escaped => "quo#{2 + 2}te"}
p
11
I
0
I
36b
I
0
I
36c
I
11
I
36d
I
22
I
36e
I
33
I
36f
I
44
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
34
test_correct_parsing_with_brackets
M
1
n
n
x
34
test_correct_parsing_with_brackets
i
338
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
15
5
7
4
64
5
7
5
64
47
49
2
1
47
49
3
2
15
5
7
6
64
5
7
7
64
47
49
2
1
47
49
3
2
15
5
7
8
64
5
7
9
64
47
49
2
1
47
49
3
2
15
35
0
19
0
15
20
0
78
45
10
11
13
71
12
47
9
101
47
48
13
13
7
14
64
7
15
47
49
16
2
15
8
109
7
14
64
7
15
49
12
2
13
71
12
47
9
125
47
48
13
13
47
48
16
15
8
127
48
12
13
18
3
49
17
2
15
15
5
7
18
64
5
7
19
64
44
43
20
79
49
21
1
13
7
22
44
43
20
79
49
21
1
13
7
23
20
0
49
17
2
15
49
17
2
15
47
49
2
2
47
49
3
2
15
5
7
24
64
5
7
25
64
44
43
20
79
49
21
1
13
7
22
44
43
20
79
49
21
1
13
7
23
20
0
49
17
2
15
49
17
2
15
47
49
2
2
47
49
3
2
15
20
0
78
49
26
1
79
13
18
2
49
27
1
15
15
5
7
28
64
5
7
19
64
44
43
20
79
49
21
1
13
7
22
44
43
20
79
49
21
1
13
7
23
20
0
49
17
2
15
49
17
2
15
47
49
2
2
47
49
3
2
15
5
7
29
64
5
7
25
64
44
43
20
79
49
21
1
13
7
22
44
43
20
79
49
21
1
13
7
23
20
0
49
17
2
15
49
17
2
15
47
49
2
2
47
49
3
2
11
I
c
I
1
I
0
I
0
n
p
30
s
30
<p class='foo'>{tada} foo</p>

s
30
%p{:class => 'foo'} {tada} foo
x
6
render
x
12
assert_equal
s
44
<p class='foo'>deep {nested { things }}</p>

s
44
%p{:class => 'foo'} deep {nested { things }}
s
30
<p class='bar foo'>{a { d</p>

s
45
%p{{:class => 'foo'}, :class => 'bar'} {a { d
s
20
<p foo='bar'>a}</p>

s
20
%p{:foo => 'bar'} a}
x
6
Struct
n
x
3
new
x
8
allocate
s
3
Foo
x
2
id
x
10
initialize
x
3
[]=
s
56
<p class='struct_foo' id='struct_foo_new'>New User]</p>

s
20
%p[foo[0]] New User]
x
4
Hash
x
16
new_from_literal
x
6
locals
x
3
foo
s
70
<p class='prefix_struct_foo' id='prefix_struct_foo_new'>New User]</p>

s
29
%p[foo[0], :prefix] New User]
x
2
[]
x
3
id=
s
54
<p class='struct_foo' id='struct_foo_1'>New User]</p>

s
68
<p class='prefix_struct_foo' id='prefix_struct_foo_1'>New User]</p>

p
41
I
0
I
372
I
0
I
373
I
11
I
374
I
22
I
375
I
33
I
376
I
44
I
378
I
49
I
379
I
87
I
37a
I
8b
I
37b
I
b1
I
37a
I
b6
I
37c
I
ba
I
37d
I
e0
I
37c
I
e5
I
37f
I
f4
I
380
I
f8
I
381
I
11e
I
380
I
123
I
382
I
127
I
383
I
14d
I
382
I
152
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
1
x
3
foo
n
x
16
test_empty_attrs
M
1
n
n
x
16
test_empty_attrs
i
65
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
15
5
7
0
64
5
7
4
64
44
43
5
79
49
6
1
13
7
7
44
43
5
79
49
6
1
13
7
8
7
9
64
49
10
2
15
49
10
2
15
47
49
2
2
47
49
3
2
11
I
b
I
0
I
0
I
0
n
p
11
s
21
<p attr=''>empty</p>

s
23
%p{ :attr => '' } empty
x
6
render
x
12
assert_equal
s
22
%p{ :attr => x } empty
x
4
Hash
x
16
new_from_literal
x
6
locals
x
1
x
s
0

x
3
[]=
p
7
I
0
I
386
I
0
I
387
I
11
I
388
I
41
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
14
test_nil_attrs
M
1
n
n
x
14
test_nil_attrs
i
63
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
15
5
7
0
64
5
7
4
64
44
43
5
79
49
6
1
13
7
7
44
43
5
79
49
6
1
13
7
8
1
49
9
2
15
49
9
2
15
47
49
2
2
47
49
3
2
11
I
b
I
0
I
0
I
0
n
p
10
s
11
<p>nil</p>

s
22
%p{ :attr => nil } nil
x
6
render
x
12
assert_equal
s
20
%p{ :attr => x } nil
x
4
Hash
x
16
new_from_literal
x
6
locals
x
1
x
x
3
[]=
p
7
I
0
I
38b
I
0
I
38c
I
11
I
38d
I
3f
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
29
test_nil_id_with_syntactic_id
M
1
n
n
x
29
test_nil_id_with_syntactic_id
i
51
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
15
5
7
4
64
5
7
5
64
47
49
2
1
47
49
3
2
15
5
7
4
64
5
7
6
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
7
s
20
<p id='foo'>nil</p>

s
22
%p#foo{:id => nil} nil
x
6
render
x
12
assert_equal
s
24
<p id='foo_bar'>nil</p>

s
38
%p#foo{{:id => 'bar'}, :id => nil} nil
s
38
%p#foo{{:id => nil}, :id => 'bar'} nil
p
9
I
0
I
390
I
0
I
391
I
11
I
392
I
22
I
393
I
33
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
35
test_nil_class_with_syntactic_class
M
1
n
n
x
35
test_nil_class_with_syntactic_class
i
68
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
15
5
7
4
64
5
7
5
64
47
49
2
1
47
49
3
2
15
5
7
4
64
5
7
6
64
47
49
2
1
47
49
3
2
15
5
7
4
64
5
7
7
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
8
s
23
<p class='foo'>nil</p>

s
25
%p.foo{:class => nil} nil
x
6
render
x
12
assert_equal
s
27
<p class='bar foo'>nil</p>

s
29
%p.bar.foo{:class => nil} nil
s
44
%p.foo{{:class => 'bar'}, :class => nil} nil
s
44
%p.foo{{:class => nil}, :class => 'bar'} nil
p
11
I
0
I
396
I
0
I
397
I
11
I
398
I
22
I
399
I
33
I
39a
I
44
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
11
test_locals
M
1
n
n
x
11
test_locals
i
48
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
44
43
2
79
49
3
1
13
7
5
7
6
64
49
7
2
15
49
7
2
15
47
49
8
2
47
49
9
2
11
I
b
I
0
I
0
I
0
n
p
10
s
18
<p>Paragraph!</p>

s
8
%p= text
x
4
Hash
x
16
new_from_literal
x
6
locals
x
4
text
s
10
Paragraph!
x
3
[]=
x
6
render
x
12
assert_equal
p
5
I
0
I
39d
I
0
I
39e
I
30
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
54
test_dynamic_attrs_shouldnt_register_as_literal_values
M
1
n
n
x
54
test_dynamic_attrs_shouldnt_register_as_literal_values
i
34
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
15
5
7
0
64
5
7
4
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
5
s
16
<p a='b2c'></p>

s
22
%p{:a => "b#{1 + 1}c"}
x
6
render
x
12
assert_equal
s
34
%p{:a => 'b' + (1 + 1).to_s + 'c'}
p
7
I
0
I
3a1
I
0
I
3a2
I
11
I
3a3
I
22
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
39
test_dynamic_attrs_with_self_closed_tag
M
1
n
n
x
39
test_dynamic_attrs_with_self_closed_tag
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
14
<a b='2' />
c

s
24
%a{'b' => 1 + 1}/
= 'c'

x
6
render
x
12
assert_equal
p
5
I
0
I
3a6
I
0
I
3a7
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
M
1
p
2
x
9
for_block
t
n
x
10
EngineTest
i
32
58
36
37
19
0
15
37
19
1
15
15
5
7
0
20
0
48
1
47
48
2
7
3
63
3
56
4
47
50
5
1
11
I
7
I
2
I
2
I
2
n
p
6
s
16
test_exception (
x
7
inspect
x
4
to_s
s
1
)
M
1
p
2
x
9
for_block
t
n
x
10
EngineTest
i
340
26
93
0
15
29
35
0
5
21
1
0
44
43
0
79
49
1
1
13
7
2
65
48
3
49
4
2
15
47
49
5
2
30
8
319
26
93
1
15
24
13
45
6
7
12
49
8
1
10
52
8
314
15
24
19
0
15
21
1
1
45
9
10
49
11
1
9
71
1
8
79
21
1
1
35
1
22
1
1
15
21
1
1
97
37
19
1
15
37
19
2
15
15
2
15
20
2
13
10
114
15
21
1
0
7
12
64
49
13
1
48
14
19
2
15
20
1
7
15
83
16
9
224
45
17
18
43
19
48
20
9
171
5
7
21
13
70
9
151
15
45
22
23
7
24
78
49
25
2
6
21
20
0
48
26
7
27
21
1
0
47
48
28
63
2
47
49
29
3
8
222
5
45
22
30
7
31
45
22
32
65
48
3
49
33
1
47
48
28
7
34
20
2
47
48
28
7
35
63
5
78
49
25
2
20
0
48
26
7
27
21
1
0
47
48
28
63
2
47
49
29
3
8
245
5
20
1
20
0
48
26
7
27
21
1
0
47
48
28
63
2
47
49
36
3
15
45
17
37
43
19
48
20
9
310
5
45
22
38
7
31
45
22
39
65
48
3
49
40
1
47
48
28
7
34
20
2
47
48
28
63
4
78
49
25
2
20
0
48
41
78
49
42
1
7
27
21
1
0
47
48
28
63
2
47
49
29
3
8
311
1
25
8
336
15
92
1
27
34
15
5
3
7
43
21
1
0
47
48
28
63
2
47
49
44
2
92
0
27
11
I
d
I
3
I
0
I
0
I
-2
p
45
x
4
Hash
x
16
new_from_literal
x
8
filename
x
11
active_path
x
3
[]=
x
6
render
x
9
Exception
n
x
3
===
x
5
Array
n
x
5
is_a?
s
1


x
5
split
x
6
length
x
7
compile
x
2
==
x
4
Haml
n
x
4
Util
x
8
ruby1_8?
n
x
6
Regexp
n
s
16
^compile error\n
x
3
new
x
7
message
s
6
Line: 
x
4
to_s
x
12
assert_match
n
s
1
^
n
x
5
quote
s
1
:
s
15
: syntax error,
x
12
assert_equal
n
n
n
x
6
escape
x
9
backtrace
x
2
[]
s
25
Exception not raised for

x
6
assert
p
33
I
0
I
3ab
I
0
I
3ad
I
28
I
3ae
I
35
I
3c0
I
39
I
3af
I
50
I
3b0
I
5f
I
3b1
I
73
I
3b3
I
7b
I
3b4
I
84
I
3b5
I
ab
I
3b7
I
e0
I
3ba
I
f6
I
3bd
I
ff
I
3be
I
136
I
3bd
I
140
I
3c1
I
154
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
3
x
3
err
x
16
expected_message
x
7
line_no
x
13
define_method
p
5
I
0
I
3aa
I
b
I
3ab
I
20
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
2
x
3
key
x
5
value
x
4
each
n
x
19
test_exception_line
M
1
n
n
x
19
test_exception_line
i
80
26
93
0
15
29
18
0
5
7
0
64
47
49
1
1
30
8
66
26
93
1
15
24
13
45
2
3
43
4
12
49
5
1
10
37
8
61
15
24
19
0
15
5
7
6
64
20
0
48
7
78
49
8
1
47
49
9
2
25
8
76
15
92
1
27
34
15
5
3
7
10
64
47
49
11
2
92
0
27
11
I
7
I
1
I
0
I
0
n
p
12
s
13
a
b
!!!
  c
d
x
6
render
x
4
Haml
n
x
11
SyntaxError
x
3
===
s
23
(test_exception_line):4
x
9
backtrace
x
2
[]
x
12
assert_equal
s
48
"a\nb\n!!!\n  c\nd" doesn't produce an exception
x
6
assert
p
13
I
0
I
3c6
I
0
I
3c7
I
17
I
3c8
I
26
I
3ca
I
2a
I
3c9
I
43
I
3cb
I
50
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
1
x
1
e
n
x
14
test_exception
M
1
n
n
x
14
test_exception
i
75
26
93
0
15
29
18
0
5
7
0
64
47
49
1
1
30
8
64
26
93
1
15
24
13
45
2
3
12
49
4
1
10
35
8
59
15
24
19
0
15
5
7
5
64
20
0
48
6
78
49
7
1
47
49
8
2
25
8
71
15
92
1
27
34
15
5
3
47
49
9
1
92
0
27
11
I
7
I
1
I
0
I
0
n
p
10
s
28
%p
  hi
  %a= undefined
= 12
x
6
render
x
9
Exception
n
x
3
===
s
18
(test_exception):3
x
9
backtrace
x
2
[]
x
12
assert_match
x
6
assert
p
13
I
0
I
3ce
I
0
I
3cf
I
17
I
3d0
I
24
I
3d2
I
28
I
3d1
I
41
I
3d4
I
4b
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
1
x
1
e
n
x
18
test_compile_error
M
1
n
n
x
18
test_compile_error
i
89
26
93
0
15
29
18
0
5
7
0
64
47
49
1
1
30
8
75
26
93
1
15
24
13
45
2
3
12
49
4
1
10
35
8
70
15
24
19
0
15
5
7
5
13
70
9
59
15
45
6
7
7
8
79
49
9
2
6
5
20
0
48
10
47
49
11
2
25
8
85
15
92
1
27
34
15
5
3
7
12
64
47
49
13
2
92
0
27
11
I
7
I
1
I
0
I
0
n
p
14
s
12
a
b
- fee)
c
x
6
render
x
9
Exception
n
x
3
===
n
x
6
Regexp
n
s
38
\(test_compile_error\):3: syntax error
x
3
new
x
7
message
x
12
assert_match
s
47
"a\nb\n- fee)\nc" doesn't produce an exception!
x
6
assert
p
17
I
0
I
3d7
I
0
I
3d8
I
17
I
3d9
I
24
I
3db
I
28
I
3da
I
4c
I
3dc
I
4e
I
3dd
I
51
I
3dc
I
59
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
1
x
1
e
n
x
24
test_unbalanced_brackets
M
1
n
n
x
24
test_unbalanced_brackets
i
66
26
93
0
15
29
18
0
5
7
0
64
47
49
1
1
30
8
62
26
93
1
15
24
13
45
2
3
43
4
12
49
5
1
10
37
8
57
15
24
19
0
15
5
7
6
64
20
0
48
7
47
49
8
2
25
8
62
15
92
1
27
34
92
0
27
11
I
6
I
1
I
0
I
0
n
p
9
s
37
foo #{1 + 5} foo #{6 + 7 bar #{8 + 9}
x
6
render
x
4
Haml
n
x
11
SyntaxError
x
3
===
s
20
Unbalanced brackets.
x
7
message
x
12
assert_equal
p
11
I
0
I
3e0
I
0
I
3e1
I
17
I
3e2
I
26
I
3e4
I
2a
I
3e3
I
42
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
1
x
1
e
n
x
34
test_balanced_conditional_comments
M
1
n
n
x
34
test_balanced_conditional_comments
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
49
<!--[if !(IE 6)|(IE 7)]> Bracket: ] <![endif]-->

s
31
/[if !(IE 6)|(IE 7)] Bracket: ]
x
6
render
x
12
assert_equal
p
9
I
0
I
3e6
I
0
I
3e7
I
4
I
3e8
I
c
I
3e7
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
17
test_empty_filter
M
1
n
n
x
17
test_empty_filter
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
69
<script type='text/javascript'>
  //<![CDATA[
    
  //]]>
</script>

s
11
:javascript
x
6
render
x
12
assert_equal
p
5
I
0
I
3eb
I
0
I
3ec
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
16
test_ugly_filter
M
1
n
n
x
16
test_ugly_filter
i
32
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
11
I
8
I
0
I
0
I
0
n
p
8
s
21
#foo {
  bar: baz; }

s
25
:sass
  #foo
    bar: baz
x
4
Hash
x
16
new_from_literal
x
4
ugly
x
3
[]=
x
6
render
x
12
assert_equal
p
5
I
0
I
3f5
I
0
I
3f6
I
20
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
15
test_css_filter
M
1
n
n
x
15
test_css_filter
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
88
<style type='text/css'>
  /*<![CDATA[*/
    #foo {
      bar: baz; }
  /*]]>*/
</style>

s
30
:css
  #foo {
    bar: baz; }

x
6
render
x
12
assert_equal
p
5
I
0
I
3fc
I
0
I
3fd
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
36
test_local_assigns_dont_modify_class
M
1
n
n
x
36
test_local_assigns_dont_modify_class
i
69
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
44
43
2
79
49
3
1
13
7
5
7
6
64
49
7
2
15
49
7
2
15
47
49
8
2
47
49
9
2
15
5
1
5
7
5
2
49
10
2
9
63
7
11
8
64
1
47
49
9
2
11
I
b
I
0
I
0
I
0
n
p
12
s
4
bar

s
5
= foo
x
4
Hash
x
16
new_from_literal
x
6
locals
x
3
foo
s
3
bar
x
3
[]=
x
6
render
x
12
assert_equal
x
17
__respond_to_eh__
s
6
method
p
7
I
0
I
40b
I
0
I
40c
I
30
I
40d
I
45
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
27
test_object_ref_with_nil_id
M
1
n
n
x
27
test_object_ref_with_nil_id
i
71
45
0
1
13
71
2
47
9
19
47
48
3
13
47
48
4
15
8
21
48
2
19
0
15
5
7
5
64
5
7
6
64
44
43
7
79
49
8
1
13
7
9
44
43
7
79
49
8
1
13
7
10
20
0
49
11
2
15
49
11
2
15
47
49
12
2
47
49
13
2
11
I
c
I
1
I
0
I
0
n
p
14
x
4
User
n
x
3
new
x
8
allocate
x
10
initialize
s
57
<p class='struct_user' id='struct_user_new'>New User</p>

s
17
%p[user] New User
x
4
Hash
x
16
new_from_literal
x
6
locals
x
4
user
x
3
[]=
x
6
render
x
12
assert_equal
p
11
I
0
I
410
I
0
I
411
I
18
I
412
I
1c
I
413
I
42
I
412
I
47
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
1
x
4
user
n
x
28
test_object_ref_before_attrs
M
1
n
n
x
28
test_object_ref_before_attrs
i
77
45
0
1
13
71
2
47
9
22
47
48
3
13
4
42
47
49
4
1
15
8
27
4
42
49
2
1
19
0
15
5
7
5
64
5
7
6
64
44
43
7
79
49
8
1
13
7
9
44
43
7
79
49
8
1
13
7
10
20
0
49
11
2
15
49
11
2
15
47
49
12
2
47
49
13
2
11
I
c
I
1
I
0
I
0
n
p
14
x
4
User
n
x
3
new
x
8
allocate
x
10
initialize
s
78
<p class='struct_user' id='struct_user_42' style='width: 100px;'>New User</p>

s
44
%p[user]{:style => 'width: 100px;'} New User
x
4
Hash
x
16
new_from_literal
x
6
locals
x
4
user
x
3
[]=
x
6
render
x
12
assert_equal
p
11
I
0
I
416
I
0
I
417
I
1e
I
418
I
22
I
419
I
48
I
418
I
4d
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
1
x
4
user
n
x
38
test_object_ref_with_custom_haml_class
M
1
n
n
x
38
test_object_ref_with_custom_haml_class
i
77
45
0
1
13
71
2
47
9
22
47
48
3
13
4
42
47
49
4
1
15
8
27
4
42
49
2
1
19
0
15
5
7
5
64
5
7
6
64
44
43
7
79
49
8
1
13
7
9
44
43
7
79
49
8
1
13
7
10
20
0
49
11
2
15
49
11
2
15
47
49
12
2
47
49
13
2
11
I
c
I
1
I
0
I
0
n
p
14
x
15
CustomHamlClass
n
x
3
new
x
8
allocate
x
10
initialize
s
72
<p class='my_thing' id='my_thing_42' style='width: 100px;'>My Thing</p>

s
46
%p[custom]{:style => 'width: 100px;'} My Thing
x
4
Hash
x
16
new_from_literal
x
6
locals
x
6
custom
x
3
[]=
x
6
render
x
12
assert_equal
p
11
I
0
I
41c
I
0
I
41d
I
1e
I
41e
I
22
I
41f
I
48
I
41e
I
4d
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
1
x
6
custom
n
x
27
test_non_literal_attributes
M
1
n
n
x
27
test_non_literal_attributes
i
86
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
44
43
2
80
49
3
1
13
7
5
44
43
2
79
49
3
1
13
7
5
7
6
64
49
7
2
15
49
7
2
15
13
7
8
44
43
2
79
49
3
1
13
7
8
7
9
64
49
7
2
15
49
7
2
15
49
7
2
15
47
49
10
2
47
49
11
2
11
I
e
I
0
I
0
I
0
n
p
12
s
33
<p a1='foo' a2='bar' a3='baz' />

s
25
%p{a2, a1, :a3 => 'baz'}/
x
4
Hash
x
16
new_from_literal
x
6
locals
x
2
a1
s
3
foo
x
3
[]=
x
2
a2
s
3
bar
x
6
render
x
12
assert_equal
p
13
I
0
I
422
I
0
I
423
I
4
I
424
I
8
I
425
I
4d
I
424
I
51
I
423
I
56
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
44
test_render_should_accept_a_binding_as_scope
M
1
n
n
x
44
test_render_should_accept_a_binding_as_scope
i
61
7
0
64
19
0
15
20
0
7
1
64
7
2
64
49
3
2
15
20
0
56
4
50
5
0
19
1
15
5
7
6
64
5
7
7
64
44
43
8
79
49
9
1
13
7
10
20
1
49
11
2
15
47
49
12
2
47
49
13
2
11
I
a
I
2
I
0
I
0
n
p
14
s
17
This is a string!
s
4
@var
s
17
Instance variable
x
21
instance_variable_set
M
1
p
2
x
9
for_block
t
n
x
44
test_render_should_accept_a_binding_as_scope
i
11
7
0
64
19
0
15
5
47
48
1
11
I
3
I
1
I
0
I
0
I
-2
p
2
s
14
Local variable
x
7
binding
p
7
I
0
I
42b
I
0
I
42c
I
6
I
42d
I
b
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
1
x
3
var
x
13
instance_eval
s
72
<p>THIS IS A STRING!</p>
<p>Instance variable</p>
<p>Local variable</p>

s
27
%p= upcase
%p= @var
%p= var
x
4
Hash
x
16
new_from_literal
x
5
scope
x
3
[]=
x
6
render
x
12
assert_equal
p
15
I
0
I
428
I
0
I
429
I
6
I
42a
I
12
I
42b
I
1c
I
430
I
20
I
431
I
38
I
430
I
3d
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
2
x
6
string
x
1
b
n
x
35
test_yield_should_work_with_binding
M
1
n
n
x
35
test_yield_should_work_with_binding
i
41
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
7
5
64
56
6
50
7
0
49
8
2
15
56
9
47
50
10
2
47
49
11
2
11
I
9
I
0
I
0
I
0
n
p
12
s
7
12
FOO

s
16
= yield
= upcase
x
4
Hash
x
16
new_from_literal
x
5
scope
s
3
foo
M
1
p
2
x
9
for_block
t
n
x
35
test_yield_should_work_with_binding
i
5
5
47
48
0
11
I
2
I
0
I
0
I
0
I
-2
p
1
x
7
binding
p
3
I
0
I
435
I
5
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
x
13
instance_eval
x
3
[]=
M
1
p
2
x
9
for_block
t
n
x
35
test_yield_should_work_with_binding
i
3
4
12
11
I
2
I
0
I
0
I
0
I
-2
p
0
p
3
I
0
I
435
I
3
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
x
6
render
x
12
assert_equal
p
5
I
0
I
434
I
0
I
435
I
29
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
38
test_yield_should_work_with_def_method
M
1
n
n
x
38
test_yield_should_work_with_def_method
i
38
7
0
64
19
0
15
5
7
1
64
47
49
2
1
20
0
7
3
49
4
2
15
5
7
5
64
20
0
56
6
50
3
0
47
49
7
2
11
I
5
I
1
I
0
I
0
n
p
8
s
3
foo
s
16
= yield
= upcase
x
6
engine
x
6
render
x
10
def_method
s
7
12
FOO

M
1
p
2
x
9
for_block
t
n
x
38
test_yield_should_work_with_def_method
i
3
4
12
11
I
2
I
0
I
0
I
0
I
-2
p
0
p
3
I
0
I
43b
I
3
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
x
12
assert_equal
p
9
I
0
I
438
I
0
I
439
I
6
I
43a
I
16
I
43b
I
26
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
1
x
1
s
n
x
27
test_def_method_with_module
M
1
n
n
x
27
test_def_method_with_module
i
34
5
7
0
64
47
49
1
1
45
2
3
7
4
49
5
2
15
5
7
6
64
7
7
64
56
8
50
4
0
47
49
9
2
11
I
4
I
0
I
0
I
0
n
p
10
s
16
= yield
= upcase
x
6
engine
x
6
String
n
x
11
render_haml
x
10
def_method
s
7
12
FOO

s
3
foo
M
1
p
2
x
9
for_block
t
n
x
27
test_def_method_with_module
i
3
4
12
11
I
2
I
0
I
0
I
0
I
-2
p
0
p
3
I
0
I
440
I
3
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
x
12
assert_equal
p
7
I
0
I
43e
I
0
I
43f
I
11
I
440
I
22
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
22
test_def_method_locals
M
1
n
n
x
22
test_def_method_locals
i
93
45
0
1
13
71
2
47
9
19
47
48
3
13
47
48
4
15
8
21
48
2
19
0
15
5
7
5
64
47
49
6
1
20
0
7
7
7
8
7
9
7
10
49
11
5
15
5
7
12
64
20
0
44
43
13
4
3
49
14
1
13
7
8
79
49
15
2
15
13
7
9
80
49
15
2
15
13
7
10
4
3
49
15
2
15
49
7
1
47
49
16
2
11
I
8
I
1
I
0
I
0
n
p
17
x
6
Object
n
x
3
new
x
8
allocate
x
10
initialize
s
31
%p= foo
.bar{:baz => baz}= boom
x
6
engine
x
6
render
x
3
foo
x
3
baz
x
4
boom
x
10
def_method
s
42
<p>1</p>
<div baz='2' class='bar'>3</div>

x
4
Hash
x
16
new_from_literal
x
3
[]=
x
12
assert_equal
p
9
I
0
I
443
I
0
I
444
I
18
I
445
I
2e
I
446
I
5d
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
1
x
3
obj
n
x
23
test_render_proc_locals
M
1
n
n
x
23
test_render_proc_locals
i
88
5
7
0
64
47
49
1
1
45
2
3
13
71
4
47
9
27
47
48
5
13
47
48
6
15
8
29
48
4
7
7
7
8
7
9
49
10
4
19
0
15
5
7
11
64
20
0
44
43
12
4
3
49
13
1
13
7
7
79
49
14
2
15
13
7
8
80
49
14
2
15
13
7
9
4
3
49
14
2
15
49
15
1
47
49
16
2
11
I
8
I
1
I
0
I
0
n
p
17
s
31
%p= foo
.bar{:baz => baz}= boom
x
6
engine
x
6
Object
n
x
3
new
x
8
allocate
x
10
initialize
x
3
foo
x
3
baz
x
4
boom
x
11
render_proc
s
42
<p>1</p>
<div baz='2' class='bar'>3</div>

x
4
Hash
x
16
new_from_literal
x
3
[]=
x
2
[]
x
12
assert_equal
p
7
I
0
I
449
I
0
I
44a
I
29
I
44b
I
58
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
1
x
4
proc
n
x
29
test_render_proc_with_binding
M
1
n
n
x
29
test_render_proc_with_binding
i
30
5
7
0
64
5
7
1
64
47
49
2
1
7
3
64
56
4
50
5
0
49
6
1
48
7
47
49
8
2
11
I
5
I
0
I
0
I
0
n
p
9
s
4
FOO

s
8
= upcase
x
6
engine
s
3
foo
M
1
p
2
x
9
for_block
t
n
x
29
test_render_proc_with_binding
i
5
5
47
48
0
11
I
2
I
0
I
0
I
0
I
-2
p
1
x
7
binding
p
3
I
0
I
44f
I
5
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
x
13
instance_eval
x
11
render_proc
x
4
call
x
12
assert_equal
p
5
I
0
I
44e
I
0
I
44f
I
1e
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
47
test_haml_buffer_gets_reset_even_with_exception
M
1
n
n
x
47
test_haml_buffer_gets_reset_even_with_exception
i
110
26
93
0
15
29
68
0
45
0
1
13
71
2
47
9
26
47
48
3
13
47
48
4
15
8
28
48
2
19
0
15
5
7
5
64
44
43
6
79
49
7
1
13
7
8
20
0
49
9
2
15
47
49
10
2
15
5
3
7
11
64
47
49
12
2
30
8
106
26
93
1
15
24
13
45
13
14
12
49
15
1
10
85
8
101
15
5
20
0
7
16
49
17
1
47
49
18
1
25
8
106
15
92
1
27
34
92
0
27
11
I
9
I
1
I
0
I
0
n
p
19
x
6
Object
n
x
3
new
x
8
allocate
x
10
initialize
s
19
- raise Haml::Error
x
4
Hash
x
16
new_from_literal
x
5
scope
x
3
[]=
x
6
render
s
18
Expected exception
x
6
assert
x
9
Exception
n
x
3
===
x
11
haml_buffer
x
4
send
x
10
assert_nil
p
13
I
0
I
452
I
0
I
453
I
1f
I
454
I
38
I
455
I
49
I
456
I
56
I
457
I
6e
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
1
x
5
scope
n
x
58
test_def_method_haml_buffer_gets_reset_even_with_exception
M
1
n
n
x
58
test_def_method_haml_buffer_gets_reset_even_with_exception
i
106
26
93
0
15
29
64
0
45
0
1
13
71
2
47
9
26
47
48
3
13
47
48
4
15
8
28
48
2
19
0
15
5
7
5
64
47
49
6
1
20
0
7
7
49
8
2
15
20
0
48
7
15
5
3
7
9
64
47
49
10
2
30
8
102
26
93
1
15
24
13
45
11
12
12
49
13
1
10
81
8
97
15
5
20
0
7
14
49
15
1
47
49
16
1
25
8
102
15
92
1
27
34
92
0
27
11
I
6
I
1
I
0
I
0
n
p
17
x
6
Object
n
x
3
new
x
8
allocate
x
10
initialize
s
19
- raise Haml::Error
x
6
engine
x
6
render
x
10
def_method
s
18
Expected exception
x
6
assert
x
9
Exception
n
x
3
===
x
11
haml_buffer
x
4
send
x
10
assert_nil
p
15
I
0
I
45a
I
0
I
45b
I
1f
I
45c
I
2f
I
45d
I
34
I
45e
I
45
I
45f
I
52
I
460
I
6a
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
1
x
5
scope
n
x
59
test_render_proc_haml_buffer_gets_reset_even_with_exception
M
1
n
n
x
59
test_render_proc_haml_buffer_gets_reset_even_with_exception
i
106
26
93
0
15
29
64
0
45
0
1
13
71
2
47
9
26
47
48
3
13
47
48
4
15
8
28
48
2
19
0
15
5
7
5
64
47
49
6
1
20
0
49
7
1
19
1
15
20
1
48
8
15
5
3
7
9
64
47
49
10
2
30
8
102
26
93
1
15
24
13
45
11
12
12
49
13
1
10
81
8
97
15
5
20
0
7
14
49
15
1
47
49
16
1
25
8
102
15
92
1
27
34
92
0
27
11
I
7
I
2
I
0
I
0
n
p
17
x
6
Object
n
x
3
new
x
8
allocate
x
10
initialize
s
19
- raise Haml::Error
x
6
engine
x
11
render_proc
x
4
call
s
18
Expected exception
x
6
assert
x
9
Exception
n
x
3
===
x
11
haml_buffer
x
4
send
x
10
assert_nil
p
15
I
0
I
463
I
0
I
464
I
1f
I
465
I
2f
I
466
I
34
I
467
I
45
I
468
I
52
I
469
I
6a
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
2
x
5
scope
x
4
proc
n
x
14
test_ugly_true
M
1
n
n
x
14
test_ugly_true
i
136
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
15
5
7
8
7
9
64
4
75
49
10
1
47
48
11
7
12
63
3
5
7
13
7
9
64
4
75
49
10
1
47
48
11
63
2
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
15
5
7
8
7
9
64
4
75
49
10
1
47
48
11
7
12
63
3
5
7
14
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
11
I
8
I
0
I
0
I
0
n
p
15
s
67
<div id='outer'>
<div id='inner'>
<p>hello world</p>
</div>
</div>

s
34
#outer
  #inner
    %p hello world
x
4
Hash
x
16
new_from_literal
x
4
ugly
x
3
[]=
x
6
render
x
12
assert_equal
s
3
<p>
s
1
s
x
1
*
x
4
to_s
s
5
</p>

s
3
%p 
s
12
%p= 's' * 75
p
21
I
0
I
46c
I
0
I
46d
I
4
I
46e
I
1b
I
46d
I
20
I
470
I
32
I
471
I
55
I
470
I
5a
I
473
I
6c
I
474
I
83
I
473
I
88
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
30
test_auto_preserve_unless_ugly
M
1
n
n
x
30
test_auto_preserve_unless_ugly
i
98
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
15
5
7
4
64
5
7
5
64
47
49
2
1
47
49
3
2
15
5
7
4
64
5
7
1
64
44
43
6
79
49
7
1
13
7
8
2
49
9
2
15
47
49
2
2
47
49
3
2
15
5
7
4
64
5
7
5
64
44
43
6
79
49
7
1
13
7
8
2
49
9
2
15
47
49
2
2
47
49
3
2
11
I
8
I
0
I
0
I
0
n
p
10
s
26
<pre>foo&#x000A;bar</pre>

s
15
%pre="foo\nbar"
x
6
render
x
12
assert_equal
s
19
<pre>foo
bar</pre>

s
16
%pre
  foo
  bar
x
4
Hash
x
16
new_from_literal
x
4
ugly
x
3
[]=
p
11
I
0
I
477
I
0
I
478
I
11
I
479
I
22
I
47a
I
42
I
47b
I
62
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
24
test_xhtml_output_option
M
1
n
n
x
24
test_xhtml_output_option
i
66
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
7
5
49
6
2
15
47
49
7
2
47
49
8
2
15
5
7
9
64
5
7
10
64
44
43
2
79
49
3
1
13
7
4
7
5
49
6
2
15
47
49
7
2
47
49
8
2
11
I
8
I
0
I
0
I
0
n
p
11
s
18
<p>
  <br />
</p>

s
8
%p
  %br
x
4
Hash
x
16
new_from_literal
x
6
format
x
5
xhtml
x
3
[]=
x
6
render
x
12
assert_equal
s
6
<a />

s
3
%a/
p
7
I
0
I
47e
I
0
I
47f
I
21
I
480
I
42
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
28
test_arbitrary_output_option
M
1
n
n
x
28
test_arbitrary_output_option
i
16
5
45
0
1
43
2
7
3
64
56
4
47
50
5
2
11
I
4
I
0
I
0
I
0
n
p
6
x
4
Haml
n
x
5
Error
s
28
Invalid output format :html1
M
1
p
2
x
9
for_block
t
n
x
28
test_arbitrary_output_option
i
25
5
7
0
64
44
43
1
79
49
2
1
13
7
3
7
4
49
5
2
15
47
49
6
2
11
I
7
I
0
I
0
I
0
I
-2
p
7
s
3
%br
x
4
Hash
x
16
new_from_literal
x
6
format
x
5
html1
x
3
[]=
x
6
engine
p
3
I
0
I
484
I
19
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
x
12
assert_raise
p
5
I
0
I
483
I
0
I
484
I
10
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
18
test_static_hashes
M
1
n
n
x
18
test_static_hashes
i
128
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
15
5
7
8
64
5
7
9
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
15
5
7
10
64
5
7
11
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
15
5
7
12
64
5
7
13
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
11
I
8
I
0
I
0
I
0
n
p
14
s
22
<a b='a =&gt; b'></a>

s
18
%a{:b => 'a => b'}
x
4
Hash
x
16
new_from_literal
x
13
suppress_eval
x
3
[]=
x
6
render
x
12
assert_equal
s
17
<a b='a, b'></a>

s
16
%a{:b => 'a, b'}
s
16
<a b='a	b'></a>

s
16
%a{:b => "a\tb"}
s
21
<a b='a#{foo}b'></a>

s
21
%a{:b => "a\#{foo}b"}
p
11
I
0
I
487
I
0
I
488
I
20
I
489
I
40
I
48a
I
60
I
48b
I
80
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
38
test_dynamic_hashes_with_suppress_eval
M
1
n
n
x
38
test_dynamic_hashes_with_suppress_eval
i
32
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
11
I
8
I
0
I
0
I
0
n
p
8
s
8
<a></a>

s
35
%a{:b => "a #{1 + 1} b", :c => "d"}
x
4
Hash
x
16
new_from_literal
x
13
suppress_eval
x
3
[]=
x
6
render
x
12
assert_equal
p
5
I
0
I
48e
I
0
I
48f
I
20
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
15
test_utf8_attrs
M
1
n
n
x
15
test_utf8_attrs
i
34
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
15
5
7
0
64
5
7
4
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
5
s
22
<a href='hllo'></a>

s
21
%a{:href => 'hllo'}
x
6
render
x
12
assert_equal
s
17
%a(href='hllo')
p
7
I
0
I
492
I
0
I
493
I
11
I
494
I
22
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
34
test_html_has_no_self_closing_tags
M
1
n
n
x
34
test_html_has_no_self_closing_tags
i
66
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
7
5
49
6
2
15
47
49
7
2
47
49
8
2
15
5
7
9
64
5
7
10
64
44
43
2
79
49
3
1
13
7
4
7
5
49
6
2
15
47
49
7
2
47
49
8
2
11
I
8
I
0
I
0
I
0
n
p
11
s
16
<p>
  <br>
</p>

s
8
%p
  %br
x
4
Hash
x
16
new_from_literal
x
6
format
x
5
html4
x
3
[]=
x
6
render
x
12
assert_equal
s
5
<br>

s
4
%br/
p
7
I
0
I
499
I
0
I
49a
I
21
I
49b
I
42
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
45
test_html_renders_empty_node_with_closing_tag
M
1
n
n
x
45
test_html_renders_empty_node_with_closing_tag
i
33
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
7
5
49
6
2
15
47
49
7
2
47
49
8
2
11
I
8
I
0
I
0
I
0
n
p
9
s
24
<div class='foo'></div>

s
4
.foo
x
4
Hash
x
16
new_from_literal
x
6
format
x
5
html4
x
3
[]=
x
6
render
x
12
assert_equal
p
5
I
0
I
49e
I
0
I
49f
I
21
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
47
test_html_doesnt_add_slash_to_self_closing_tags
M
1
n
n
x
47
test_html_doesnt_add_slash_to_self_closing_tags
i
132
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
7
5
49
6
2
15
47
49
7
2
47
49
8
2
15
5
7
9
64
5
7
10
64
44
43
2
79
49
3
1
13
7
4
7
5
49
6
2
15
47
49
7
2
47
49
8
2
15
5
7
11
64
5
7
12
64
44
43
2
79
49
3
1
13
7
4
7
5
49
6
2
15
47
49
7
2
47
49
8
2
15
5
7
13
64
5
7
14
64
44
43
2
79
49
3
1
13
7
4
7
5
49
6
2
15
47
49
7
2
47
49
8
2
11
I
8
I
0
I
0
I
0
n
p
15
s
4
<a>

s
3
%a/
x
4
Hash
x
16
new_from_literal
x
6
format
x
5
html4
x
3
[]=
x
6
render
x
12
assert_equal
s
12
<a foo='2'>

s
18
%a{:foo => 1 + 1}/
s
7
<meta>

s
5
%meta
s
15
<meta foo='2'>

s
20
%meta{:foo => 1 + 1}
p
11
I
0
I
4a2
I
0
I
4a3
I
21
I
4a4
I
42
I
4a5
I
63
I
4a6
I
84
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
40
test_html_ignores_xml_prolog_declaration
M
1
n
n
x
40
test_html_ignores_xml_prolog_declaration
i
33
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
7
5
49
6
2
15
47
49
7
2
47
49
8
2
11
I
8
I
0
I
0
I
0
n
p
9
s
0

s
7
!!! XML
x
4
Hash
x
16
new_from_literal
x
6
format
x
5
html4
x
3
[]=
x
6
render
x
12
assert_equal
p
5
I
0
I
4a9
I
0
I
4aa
I
21
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
31
test_html_has_different_doctype
M
1
n
n
x
31
test_html_has_different_doctype
i
33
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
7
5
49
6
2
15
47
49
7
2
47
49
8
2
11
I
8
I
0
I
0
I
0
n
p
9
s
103
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

s
3
!!!
x
4
Hash
x
16
new_from_literal
x
6
format
x
5
html4
x
3
[]=
x
6
render
x
12
assert_equal
p
9
I
0
I
4ad
I
0
I
4ae
I
4
I
4af
I
1c
I
4ae
I
21
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
71
test_xml_prolog_and_doctype_dont_result_in_a_leading_whitespace_in_html
M
1
n
n
x
71
test_xml_prolog_and_doctype_dont_result_in_a_leading_whitespace_in_html
i
48
5
7
0
13
70
9
19
15
45
1
2
7
3
78
49
4
2
6
0
5
7
5
64
44
43
6
79
49
7
1
13
7
8
7
9
49
10
2
15
47
49
11
2
47
49
12
2
11
I
8
I
0
I
0
I
0
n
p
13
n
x
6
Regexp
n
s
4
^\s+
x
3
new
s
11
!!! xml
!!!
x
4
Hash
x
16
new_from_literal
x
6
format
x
5
html4
x
3
[]=
x
6
render
x
15
assert_no_match
p
5
I
0
I
4b3
I
0
I
4b4
I
30
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
18
test_html5_doctype
M
1
n
n
x
18
test_html5_doctype
i
33
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
7
5
49
6
2
15
47
49
7
2
47
49
8
2
11
I
8
I
0
I
0
I
0
n
p
9
s
16
<!DOCTYPE html>

s
3
!!!
x
4
Hash
x
16
new_from_literal
x
6
format
x
5
html5
x
3
[]=
x
6
render
x
12
assert_equal
p
5
I
0
I
4b8
I
0
I
4b9
I
21
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
26
test_html5_data_attributes
M
1
n
n
x
26
test_html5_data_attributes
i
51
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
15
5
7
4
64
5
7
5
64
47
49
2
1
47
49
3
2
15
5
7
6
64
5
7
7
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
8
s
63
<div data-author_id='123' data-biz='baz' data-foo='bar'></div>

s
64
%div{:data => {:author_id => 123, :foo => 'bar', :biz => 'baz'}}
x
6
render
x
12
assert_equal
s
34
<div data-one_plus_one='2'></div>

s
37
%div{:data => {:one_plus_one => 1+1}}
s
56
<div data-foo='Here&apos;s a "quoteful" string.'></div>

s
55
%div{:data => {:foo => %{Here's a "quoteful" string.}}}
p
21
I
0
I
4bd
I
0
I
4be
I
4
I
4bf
I
c
I
4be
I
11
I
4c1
I
15
I
4c2
I
1d
I
4c1
I
22
I
4c4
I
26
I
4c5
I
2e
I
4c4
I
33
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
45
test_html5_data_attributes_with_multiple_defs
M
1
n
n
x
45
test_html5_data_attributes_with_multiple_defs
i
34
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
15
5
7
4
64
5
7
5
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
6
s
30
<div data-foo='second'></div>

s
56
%div{:data => {:foo => 'first'}, 'data-foo' => 'second'}
x
6
render
x
12
assert_equal
s
29
<div data-foo='first'></div>

s
56
%div{'data-foo' => 'first', :data => {:foo => 'second'}}
p
15
I
0
I
4c8
I
0
I
4ca
I
4
I
4cb
I
c
I
4ca
I
11
I
4cc
I
15
I
4cd
I
1d
I
4cc
I
22
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
43
test_html5_data_attributes_with_attr_method
M
1
n
n
x
43
test_html5_data_attributes_with_attr_method
i
79
45
0
1
43
2
56
3
50
4
0
15
5
7
5
64
5
7
6
64
47
49
7
1
47
49
8
2
15
5
7
9
64
5
7
10
64
47
49
7
1
47
49
8
2
15
5
7
11
64
5
7
12
64
47
49
7
1
47
49
8
2
15
5
7
13
64
5
7
14
64
47
49
7
1
47
49
8
2
11
I
4
I
0
I
0
I
0
n
p
15
x
4
Haml
n
x
7
Helpers
M
1
p
2
x
9
for_block
t
n
x
43
test_html5_data_attributes_with_attr_method
i
30
45
0
1
7
2
7
3
65
67
48
4
49
5
4
15
45
0
6
7
7
7
8
65
67
48
4
49
5
4
11
I
6
I
0
I
0
I
0
I
-2
p
9
x
8
Rubinius
n
x
9
data_hash
M
1
n
n
x
9
data_hash
i
42
44
43
0
79
49
1
1
13
7
2
44
43
0
80
49
1
1
13
7
3
7
4
64
49
5
2
15
13
7
6
7
7
64
49
5
2
15
49
5
2
15
11
I
7
I
0
I
0
I
0
n
p
8
x
4
Hash
x
16
new_from_literal
x
4
data
x
3
foo
s
3
bar
x
3
[]=
x
3
baz
s
4
bang
p
5
I
0
I
4d2
I
0
I
4d3
I
2a
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
x
17
method_visibility
x
15
add_defn_method
n
x
8
data_val
M
1
n
n
x
8
data_val
i
18
44
43
0
79
49
1
1
13
7
2
7
3
64
49
4
2
15
11
I
4
I
0
I
0
I
0
n
p
5
x
4
Hash
x
16
new_from_literal
x
4
data
s
3
dat
x
3
[]=
p
5
I
0
I
4d6
I
0
I
4d7
I
12
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
p
7
I
0
I
4d1
I
0
I
4d2
I
f
I
4d6
I
1e
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
x
11
module_eval
s
62
<div data-baz='bang' data-brat='wurst' data-foo='blip'></div>

s
60
%div{data_hash, :data => {:foo => 'blip', :brat => 'wurst'}}
x
6
render
x
12
assert_equal
s
44
<div data-baz='bang' data-foo='blip'></div>

s
37
%div{data_hash, 'data-foo' => 'blip'}
s
54
<div data-baz='bang' data-foo='bar' data='dat'></div>

s
31
%div{data_hash, :data => 'dat'}
s
57
<div data-brat='wurst' data-foo='blip' data='dat'></div>

s
59
%div{data_val, :data => {:foo => 'blip', :brat => 'wurst'}}
p
29
I
0
I
4d0
I
0
I
4d1
I
b
I
4db
I
f
I
4dc
I
17
I
4db
I
1c
I
4dd
I
20
I
4de
I
28
I
4dd
I
2d
I
4df
I
31
I
4e0
I
39
I
4df
I
3e
I
4e1
I
42
I
4e2
I
4a
I
4e1
I
4f
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
25
test_basic_new_attributes
M
1
n
n
x
25
test_basic_new_attributes
i
51
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
15
5
7
4
64
5
7
5
64
47
49
2
1
47
49
3
2
15
5
7
6
64
5
7
7
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
8
s
11
<a>bar</a>

s
8
%a() bar
x
6
render
x
12
assert_equal
s
22
<a href='foo'>bar</a>

s
18
%a(href='foo') bar
s
29
<a b='c' c='d' d='e'>baz</a>

s
25
%a(b="c" c='d' d="e") baz
p
9
I
0
I
4e7
I
0
I
4e8
I
11
I
4e9
I
22
I
4ea
I
33
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
22
test_new_attribute_ids
M
1
n
n
x
22
test_new_attribute_ids
i
269
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
15
5
7
4
64
5
7
5
64
47
49
2
1
47
49
3
2
15
5
7
6
64
5
7
7
64
47
49
2
1
47
49
3
2
15
45
8
9
13
71
10
47
9
73
47
48
11
13
4
42
47
49
12
1
15
8
78
4
42
49
10
1
19
0
15
5
7
13
64
5
7
14
64
44
43
15
79
49
16
1
13
7
17
44
43
15
79
49
16
1
13
7
18
20
0
49
19
2
15
49
19
2
15
47
49
2
2
47
49
3
2
15
5
7
13
64
5
7
20
64
44
43
15
79
49
16
1
13
7
17
44
43
15
79
49
16
1
13
7
18
20
0
49
19
2
15
49
19
2
15
47
49
2
2
47
49
3
2
15
5
7
13
64
5
7
21
64
44
43
15
79
49
16
1
13
7
17
44
43
15
79
49
16
1
13
7
18
20
0
49
19
2
15
49
19
2
15
47
49
2
2
47
49
3
2
15
5
7
22
64
5
7
23
64
44
43
15
79
49
16
1
13
7
17
44
43
15
79
49
16
1
13
7
18
20
0
49
19
2
15
49
19
2
15
47
49
2
2
47
49
3
2
11
I
c
I
1
I
0
I
0
n
p
24
s
25
<div id='foo_bar'></div>

s
14
#foo(id='bar')
x
6
render
x
12
assert_equal
s
29
<div id='foo_bar_baz'></div>

s
28
#foo{:id => 'bar'}(id='baz')
s
29
<div id='foo_baz_bar'></div>

s
28
#foo(id='baz'){:id => 'bar'}
x
4
User
n
x
3
new
x
8
allocate
x
10
initialize
s
64
<div class='struct_user' id='foo_baz_bar_struct_user_42'></div>

s
33
#foo(id='baz'){:id => 'bar'}[foo]
x
4
Hash
x
16
new_from_literal
x
6
locals
x
3
foo
x
3
[]=
s
33
#foo(id='baz')[foo]{:id => 'bar'}
s
33
#foo[foo](id='baz'){:id => 'bar'}
s
64
<div class='struct_user' id='foo_bar_baz_struct_user_42'></div>

s
33
#foo[foo]{:id => 'bar'}(id='baz')
p
35
I
0
I
4ed
I
0
I
4ee
I
11
I
4ef
I
22
I
4f0
I
33
I
4f1
I
51
I
4f2
I
55
I
4f3
I
7b
I
4f2
I
80
I
4f4
I
84
I
4f5
I
aa
I
4f4
I
af
I
4f6
I
b3
I
4f7
I
d9
I
4f6
I
de
I
4f8
I
e2
I
4f9
I
108
I
4f8
I
10d
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
1
x
3
foo
n
x
26
test_new_attribute_classes
M
1
n
n
x
26
test_new_attribute_classes
i
222
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
15
5
7
4
64
5
7
5
64
47
49
2
1
47
49
3
2
15
5
7
4
64
5
7
6
64
47
49
2
1
47
49
3
2
15
45
7
8
13
71
9
47
9
73
47
48
10
13
4
42
47
49
11
1
15
8
78
4
42
49
9
1
19
0
15
5
7
12
64
5
7
13
64
44
43
14
79
49
15
1
13
7
16
44
43
14
79
49
15
1
13
7
17
20
0
49
18
2
15
49
18
2
15
47
49
2
2
47
49
3
2
15
5
7
12
64
5
7
19
64
44
43
14
79
49
15
1
13
7
16
44
43
14
79
49
15
1
13
7
17
20
0
49
18
2
15
49
18
2
15
47
49
2
2
47
49
3
2
15
5
7
12
64
5
7
20
64
44
43
14
79
49
15
1
13
7
16
44
43
14
79
49
15
1
13
7
17
20
0
49
18
2
15
49
18
2
15
47
49
2
2
47
49
3
2
11
I
c
I
1
I
0
I
0
n
p
21
s
28
<div class='bar foo'></div>

s
17
.foo(class='bar')
x
6
render
x
12
assert_equal
s
32
<div class='bar baz foo'></div>

s
34
.foo{:class => 'bar'}(class='baz')
s
34
.foo(class='baz'){:class => 'bar'}
x
4
User
n
x
3
new
x
8
allocate
x
10
initialize
s
64
<div class='bar baz foo struct_user' id='struct_user_42'></div>

s
39
.foo(class='baz'){:class => 'bar'}[foo]
x
4
Hash
x
16
new_from_literal
x
6
locals
x
3
foo
x
3
[]=
s
39
.foo[foo](class='baz'){:class => 'bar'}
s
39
.foo[foo]{:class => 'bar'}(class='baz')
p
29
I
0
I
4fc
I
0
I
4fd
I
11
I
4fe
I
22
I
4ff
I
33
I
500
I
51
I
501
I
55
I
502
I
7b
I
501
I
80
I
503
I
84
I
504
I
aa
I
503
I
af
I
505
I
b3
I
506
I
d9
I
505
I
de
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
1
x
3
foo
n
x
27
test_dynamic_new_attributes
M
1
n
n
x
27
test_dynamic_new_attributes
i
103
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
44
43
2
79
49
3
1
13
7
5
4
12
49
6
2
15
49
6
2
15
47
49
7
2
47
49
8
2
15
5
7
9
64
5
7
10
64
44
43
2
79
49
3
1
13
7
4
44
43
2
80
49
3
1
13
7
11
4
12
49
6
2
15
13
7
12
4
14
49
6
2
15
49
6
2
15
47
49
7
2
47
49
8
2
11
I
b
I
0
I
0
I
0
n
p
13
s
21
<a href='12'>bar</a>

s
16
%a(href=foo) bar
x
4
Hash
x
16
new_from_literal
x
6
locals
x
3
foo
x
3
[]=
x
6
render
x
12
assert_equal
s
32
<a b='12' c='13' d='14'>bar</a>

s
22
%a(b=b c='13' d=d) bar
x
1
b
x
1
d
p
7
I
0
I
509
I
0
I
50a
I
2f
I
50b
I
67
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
32
test_new_attribute_interpolation
M
1
n
n
x
32
test_new_attribute_interpolation
i
81
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
15
5
7
4
64
5
7
5
64
44
43
6
79
49
7
1
13
7
8
44
43
6
79
49
7
1
13
7
9
4
3
49
10
2
15
49
10
2
15
47
49
2
2
47
49
3
2
15
5
7
11
64
5
7
12
64
47
49
2
1
47
49
3
2
11
I
b
I
0
I
0
I
0
n
p
13
s
21
<a href='12'>bar</a>

s
24
%a(href="1#{1 + 1}") bar
x
6
render
x
12
assert_equal
s
29
<a href='2: 2, 3: 3'>bar</a>

s
37
%a(href='2: #{1 + 1}, 3: #{foo}') bar
x
4
Hash
x
16
new_from_literal
x
6
locals
x
3
foo
x
3
[]=
s
28
<a href='1#{1 + 1}'>bar</a>

s
25
%a(href="1\#{1 + 1}") bar
p
9
I
0
I
50e
I
0
I
50f
I
11
I
510
I
40
I
511
I
51
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
26
test_truthy_new_attributes
M
1
n
n
x
26
test_truthy_new_attributes
i
84
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
15
5
7
4
64
5
7
5
64
44
43
6
79
49
7
1
13
7
8
7
9
49
10
2
15
47
49
2
2
47
49
3
2
15
5
7
0
64
5
7
11
64
47
49
2
1
47
49
3
2
15
5
7
12
64
5
7
13
64
47
49
2
1
47
49
3
2
11
I
8
I
0
I
0
I
0
n
p
14
s
23
<a href='href'>bar</a>

s
12
%a(href) bar
x
6
render
x
12
assert_equal
s
26
<a bar='baz' href>bar</a>

s
22
%a(href bar='baz') bar
x
4
Hash
x
16
new_from_literal
x
6
format
x
5
html5
x
3
[]=
s
17
%a(href=true) bar
s
11
<a>bar</a>

s
18
%a(href=false) bar
p
11
I
0
I
514
I
0
I
515
I
11
I
516
I
32
I
517
I
43
I
518
I
54
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
26
test_new_attribute_parsing
M
1
n
n
x
26
test_new_attribute_parsing
i
259
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
44
43
2
79
49
3
1
13
7
5
7
6
64
49
7
2
15
49
7
2
15
47
49
8
2
47
49
9
2
15
5
7
10
64
5
7
11
64
47
49
8
1
47
49
9
2
15
5
7
12
64
5
7
13
64
47
49
8
1
47
49
9
2
15
5
7
10
64
5
7
14
64
47
49
8
1
47
49
9
2
15
5
7
12
64
5
7
15
64
47
49
8
1
47
49
9
2
15
5
7
16
64
5
7
17
64
47
49
8
1
47
49
9
2
15
5
7
18
64
5
7
19
64
47
49
8
1
47
49
9
2
15
5
7
18
64
5
7
20
64
44
43
2
79
49
3
1
13
7
4
44
43
2
80
49
3
1
13
7
21
7
22
64
49
7
2
15
13
7
23
7
24
64
49
7
2
15
49
7
2
15
47
49
8
2
47
49
9
2
15
5
7
25
64
5
7
26
64
47
49
8
1
47
49
9
2
15
5
7
27
64
5
7
28
64
47
49
8
1
47
49
9
2
15
5
7
29
64
5
7
30
64
47
49
8
1
47
49
9
2
11
I
b
I
0
I
0
I
0
n
p
31
s
19
<a a2='b2'>bar</a>

s
13
%a(a2=b2) bar
x
4
Hash
x
16
new_from_literal
x
6
locals
x
2
b2
s
2
b2
x
3
[]=
x
6
render
x
12
assert_equal
s
23
<a a='foo"bar'>bar</a>

s
24
%a(a="#{'foo"bar'}") bar
s
23
<a a="foo'bar">bar</a>

s
24
%a(a="#{"foo'bar"}") bar
s
19
%a(a='foo"bar') bar
s
19
%a(a="foo'bar") bar
s
21
<a a:b='foo'>bar</a>

s
17
%a(a:b='foo') bar
s
27
<a a='foo' b='bar'>bar</a>

s
27
%a(a = 'foo' b = 'bar') bar
s
23
%a(a = foo b = bar) bar
x
3
foo
s
3
foo
x
3
bar
s
3
bar
s
25
<a a='foo'>(b='bar')</a>

s
20
%a(a='foo')(b='bar')
s
23
<a a='foo)bar'>baz</a>

s
19
%a(a='foo)bar') baz
s
19
<a a='foo'>baz</a>

s
19
%a( a = 'foo' ) baz
p
25
I
0
I
51b
I
0
I
51c
I
30
I
51d
I
41
I
51e
I
52
I
51f
I
63
I
520
I
74
I
521
I
85
I
522
I
96
I
523
I
d0
I
524
I
e1
I
525
I
f2
I
526
I
103
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
27
test_new_attribute_escaping
M
1
n
n
x
27
test_new_attribute_escaping
i
102
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
15
5
7
4
64
5
7
5
64
47
49
2
1
47
49
3
2
15
5
7
6
64
5
7
7
64
47
49
2
1
47
49
3
2
15
5
7
8
64
5
7
9
64
47
49
2
1
47
49
3
2
15
5
7
10
64
5
7
11
64
47
49
2
1
47
49
3
2
15
5
7
12
64
5
7
13
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
14
s
25
<a a='foo " bar'>bar</a>

s
22
%a(a="foo \" bar") bar
x
6
render
x
12
assert_equal
s
26
<a a='foo \" bar'>bar</a>

s
24
%a(a="foo \\\" bar") bar
s
25
<a a="foo ' bar">bar</a>

s
22
%a(a='foo \' bar') bar
s
26
<a a="foo \' bar">bar</a>

s
24
%a(a='foo \\\' bar') bar
s
25
<a a='foo \ bar'>bar</a>

s
22
%a(a="foo \\ bar") bar
s
32
<a a='foo #{1 + 1} bar'>bar</a>

s
29
%a(a="foo \#{1 + 1} bar") bar
p
15
I
0
I
529
I
0
I
52a
I
11
I
52b
I
22
I
52d
I
33
I
52e
I
44
I
530
I
55
I
531
I
66
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
28
test_multiline_new_attribute
M
1
n
n
x
28
test_multiline_new_attribute
i
65
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
15
5
7
4
64
5
7
5
64
44
43
6
79
49
7
1
13
7
8
44
43
6
79
49
7
1
13
7
9
7
10
64
49
11
2
15
49
11
2
15
47
49
2
2
47
49
3
2
11
I
b
I
0
I
0
I
0
n
p
12
s
23
<a a='b' c='d'>bar</a>

s
21
%a(a='b'
  c='d') bar
x
6
render
x
12
assert_equal
s
47
<a a='b' b='c' c='d' d='e' e='f' f='j'>bar</a>

s
45
%a(a='b' b='c'
  c='d' d=e
  e='f' f='j') bar
x
4
Hash
x
16
new_from_literal
x
6
locals
x
1
e
s
1
e
x
3
[]=
p
11
I
0
I
534
I
0
I
535
I
11
I
536
I
15
I
537
I
3c
I
536
I
41
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
27
test_new_and_old_attributes
M
1
n
n
x
27
test_new_and_old_attributes
i
119
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
15
5
7
0
64
5
7
4
64
47
49
2
1
47
49
3
2
15
5
7
0
64
5
7
5
64
47
49
2
1
47
49
3
2
15
5
7
0
64
5
7
6
64
47
49
2
1
47
49
3
2
15
5
7
7
64
5
7
8
64
47
49
2
1
47
49
3
2
15
5
7
9
64
5
7
10
64
47
49
2
1
47
49
3
2
15
5
7
11
64
5
7
12
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
13
s
23
<a a='b' c='d'>bar</a>

s
24
%a(a='b'){:c => 'd'} bar
x
6
render
x
12
assert_equal
s
24
%a{:c => 'd'}(a='b') bar
s
24
%a(c='d'){:a => 'b'} bar
s
24
%a{:a => 'b'}(c='d') bar
s
17
<a a='d'>bar</a>

s
24
%a{:a => 'b'}(a='d') bar
s
17
<a a='b'>bar</a>

s
24
%a(a='d'){:a => 'b'} bar
s
35
<a a='b' b='c' c='d' d='e'>bar</a>

s
41
%a{:a => 'b',
:b => 'c'}(c='d'
d='e') bar
p
21
I
0
I
53a
I
0
I
53b
I
11
I
53c
I
22
I
53d
I
33
I
53e
I
44
I
540
I
55
I
541
I
66
I
543
I
6a
I
544
I
72
I
543
I
77
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
26
test_silent_ruby_multiline
M
1
n
n
x
26
test_silent_ruby_multiline
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
26
bar, baz, bang
<p>foo</p>

s
73
- foo = ["bar",
         "baz",
         "bang"]
= foo.join(", ")
%p foo

x
6
render
x
12
assert_equal
p
5
I
0
I
549
I
0
I
54a
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
24
test_loud_ruby_multiline
M
1
n
n
x
24
test_loud_ruby_multiline
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
37
bar, baz, bang
<p>foo</p>
<p>bar</p>

s
56
= ["bar",
   "baz",
   "bang"].join(", ")
%p foo
%p bar

x
6
render
x
12
assert_equal
p
5
I
0
I
556
I
0
I
557
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
32
test_escaped_loud_ruby_multiline
M
1
n
n
x
32
test_escaped_loud_ruby_multiline
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
41
bar&lt;, baz, bang
<p>foo</p>
<p>bar</p>

s
60
&= ["bar<",
    "baz",
    "bang"].join(", ")
%p foo
%p bar

x
6
render
x
12
assert_equal
p
5
I
0
I
564
I
0
I
565
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
34
test_unescaped_loud_ruby_multiline
M
1
n
n
x
34
test_unescaped_loud_ruby_multiline
i
32
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
11
I
8
I
0
I
0
I
0
n
p
8
s
38
bar<, baz, bang
<p>foo</p>
<p>bar</p>

s
60
!= ["bar<",
    "baz",
    "bang"].join(", ")
%p foo
%p bar

x
4
Hash
x
16
new_from_literal
x
11
escape_html
x
3
[]=
x
6
render
x
12
assert_equal
p
5
I
0
I
572
I
0
I
573
I
20
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
34
test_flattened_loud_ruby_multiline
M
1
n
n
x
34
test_flattened_loud_ruby_multiline
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
60
<pre>bar&#x000A;baz&#x000A;bang</pre>
<p>foo</p>
<p>bar</p>

s
97
~ "<pre>" + ["bar",
             "baz",
             "bang"].join("\n") + "</pre>"
%p foo
%p bar

x
6
render
x
12
assert_equal
p
5
I
0
I
580
I
0
I
581
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
35
test_loud_ruby_multiline_with_block
M
1
n
n
x
35
test_loud_ruby_multiline_with_block
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
33
farfazfang
<p>foo</p>
<p>bar</p>

s
96
= ["bar",
   "baz",
   "bang"].map do |str|
  - str.gsub("ba",
             "fa")
%p foo
%p bar

x
6
render
x
12
assert_equal
p
5
I
0
I
58e
I
0
I
58f
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
37
test_silent_ruby_multiline_with_block
M
1
n
n
x
37
test_silent_ruby_multiline_with_block
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
35
far
faz
fang
<p>foo</p>
<p>bar</p>

s
96
- ["bar",
   "baz",
   "bang"].map do |str|
  = str.gsub("ba",
             "fa")
%p foo
%p bar

x
6
render
x
12
assert_equal
p
5
I
0
I
59e
I
0
I
59f
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
26
test_ruby_multiline_in_tag
M
1
n
n
x
26
test_ruby_multiline_in_tag
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
43
<p>foo, bar, baz</p>
<p>foo</p>
<p>bar</p>

s
61
%p= ["foo",
     "bar",
     "baz"].join(", ")
%p foo
%p bar

x
6
render
x
12
assert_equal
p
5
I
0
I
5b0
I
0
I
5b1
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
34
test_escaped_ruby_multiline_in_tag
M
1
n
n
x
34
test_escaped_ruby_multiline_in_tag
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
47
<p>foo&lt;, bar, baz</p>
<p>foo</p>
<p>bar</p>

s
65
%p&= ["foo<",
      "bar",
      "baz"].join(", ")
%p foo
%p bar

x
6
render
x
12
assert_equal
p
5
I
0
I
5be
I
0
I
5bf
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
36
test_unescaped_ruby_multiline_in_tag
M
1
n
n
x
36
test_unescaped_ruby_multiline_in_tag
i
32
5
7
0
64
5
7
1
64
44
43
2
79
49
3
1
13
7
4
2
49
5
2
15
47
49
6
2
47
49
7
2
11
I
8
I
0
I
0
I
0
n
p
8
s
44
<p>foo<, bar, baz</p>
<p>foo</p>
<p>bar</p>

s
65
%p!= ["foo<",
      "bar",
      "baz"].join(", ")
%p foo
%p bar

x
4
Hash
x
16
new_from_literal
x
11
escape_html
x
3
[]=
x
6
render
x
12
assert_equal
p
5
I
0
I
5cc
I
0
I
5cd
I
20
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
41
test_ruby_multiline_with_normal_multiline
M
1
n
n
x
41
test_ruby_multiline_with_normal_multiline
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
43
foobarbar, baz, bang
<p>foo</p>
<p>bar</p>

s
82
= "foo" + |
  "bar" + |
  ["bar", |
   "baz",
   "bang"].join(", ")
%p foo
%p bar

x
6
render
x
12
assert_equal
p
5
I
0
I
5da
I
0
I
5db
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
32
test_ruby_multiline_after_filter
M
1
n
n
x
32
test_ruby_multiline_after_filter
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
45
foo
bar
bar, baz, bang
<p>foo</p>
<p>bar</p>

s
75
:plain
  foo
  bar
= ["bar",
   "baz",
   "bang"].join(", ")
%p foo
%p bar

x
6
render
x
12
assert_equal
p
5
I
0
I
5ea
I
0
I
5eb
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
14
test_utf_8_bom
M
1
n
n
x
14
test_utf_8_bom
i
17
5
7
0
64
5
7
1
64
47
49
2
1
47
49
3
2
11
I
4
I
0
I
0
I
0
n
p
4
s
38
<div class='foo'>
  <p>baz</p>
</div>

s
17
.foo
  %p baz

x
6
render
x
12
assert_equal
p
5
I
0
I
5ff
I
0
I
600
I
11
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
x
4
Haml
n
x
4
Util
x
8
ruby1_8?
n
x
21
test_default_encoding
M
1
n
n
x
21
test_default_encoding
i
31
5
45
0
1
7
2
64
49
3
1
5
7
4
64
7
5
64
49
6
1
47
49
7
1
48
8
47
49
9
2
11
I
5
I
0
I
0
I
0
n
p
10
x
8
Encoding
n
s
5
utf-8
x
4
find
s
19
HTML
%p bar
%p foo

s
8
us-ascii
x
6
encode
x
6
render
x
8
encoding
x
12
assert_equal
p
5
I
0
I
60b
I
0
I
60c
I
1f
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
28
test_convert_template_render
M
1
n
n
x
28
test_convert_template_render
i
40
5
7
0
64
5
7
1
64
7
2
64
49
3
1
44
43
4
79
49
5
1
13
7
6
7
7
64
49
8
2
15
47
49
9
2
47
49
10
2
11
I
8
I
0
I
0
I
0
n
p
11
s
25
<p>br</p>
<p>f</p>

s
17
%p br
%p f

s
10
iso-8859-1
x
6
encode
x
4
Hash
x
16
new_from_literal
x
8
encoding
s
5
utf-8
x
3
[]=
x
6
render
x
12
assert_equal
p
5
I
0
I
613
I
0
I
614
I
28
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
24
test_fake_ascii_encoding
M
1
n
n
x
24
test_fake_ascii_encoding
i
40
5
7
0
64
7
1
64
49
2
1
5
7
3
64
44
43
4
79
49
5
1
13
7
6
7
1
64
49
7
2
15
47
49
8
2
47
49
9
2
11
I
8
I
0
I
0
I
0
n
p
10
s
25
<p>br</p>
<p>f</p>

s
10
ascii-8bit
x
14
force_encoding
s
17
%p br
%p f

x
4
Hash
x
16
new_from_literal
x
8
encoding
x
3
[]=
x
6
render
x
12
assert_equal
p
5
I
0
I
61d
I
0
I
61e
I
28
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
33
test_convert_template_render_proc
M
1
n
n
x
33
test_convert_template_render_proc
i
8
5
56
0
47
50
1
0
11
I
2
I
0
I
0
I
0
n
p
2
M
1
p
2
x
9
for_block
t
n
x
33
test_convert_template_render_proc
i
11
57
19
0
15
20
0
48
0
48
1
11
I
3
I
1
I
1
I
1
n
p
2
x
11
render_proc
x
4
call
p
3
I
0
I
628
I
b
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
1
x
1
e
x
33
assert_converts_template_properly
p
5
I
0
I
627
I
0
I
628
I
8
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
M
1
n
n
x
28
test_convert_template_render
i
8
5
56
0
47
50
1
0
11
I
2
I
0
I
0
I
0
n
p
2
M
1
p
2
x
9
for_block
t
n
x
28
test_convert_template_render
i
9
57
19
0
15
20
0
48
0
11
I
3
I
1
I
1
I
1
n
p
1
x
6
render
p
3
I
0
I
62c
I
9
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
1
x
1
e
x
33
assert_converts_template_properly
p
5
I
0
I
62b
I
0
I
62c
I
8
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
32
test_convert_template_def_method
M
1
n
n
x
32
test_convert_template_def_method
i
8
5
56
0
47
50
1
0
11
I
2
I
0
I
0
I
0
n
p
2
M
1
p
2
x
9
for_block
t
n
x
32
test_convert_template_def_method
i
43
57
19
0
15
45
0
1
13
71
2
47
9
23
47
48
3
13
47
48
4
15
8
25
48
2
19
1
15
20
0
20
1
7
5
49
6
2
15
20
1
48
5
11
I
6
I
2
I
1
I
1
n
p
7
x
6
Object
n
x
3
new
x
8
allocate
x
10
initialize
x
6
render
x
10
def_method
p
9
I
0
I
630
I
4
I
631
I
1c
I
632
I
26
I
633
I
2b
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
2
x
1
e
x
1
o
x
33
assert_converts_template_properly
p
5
I
0
I
62f
I
0
I
630
I
8
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
n
x
19
test_encoding_error
M
1
n
n
x
19
test_encoding_error
i
94
26
93
0
15
29
34
0
5
7
0
64
7
1
64
49
2
1
47
49
3
1
15
5
3
7
4
64
47
49
5
2
30
8
90
26
93
1
15
24
13
45
6
7
43
8
12
49
9
1
10
53
8
85
15
24
19
0
15
5
4
3
20
0
48
10
47
49
11
2
15
5
7
12
64
20
0
48
13
47
49
11
2
25
8
90
15
92
1
27
34
92
0
27
11
I
6
I
1
I
0
I
0
n
p
14
s
12
foo
bar
baz
s
5
utf-8
x
14
force_encoding
x
6
render
s
18
Expected exception
x
6
assert
x
4
Haml
n
x
5
Error
x
3
===
x
4
line
x
12
assert_equal
s
30
Invalid UTF-8 character "\xFE"
x
7
message
p
15
I
0
I
637
I
0
I
638
I
16
I
639
I
27
I
63a
I
36
I
63d
I
3a
I
63b
I
46
I
63c
I
5e
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
1
x
1
e
n
x
38
test_ascii_incompatible_encoding_error
M
1
n
n
x
38
test_ascii_incompatible_encoding_error
i
120
26
93
0
15
29
60
0
7
0
64
7
1
64
49
2
1
19
0
15
20
0
4
9
7
3
64
7
1
64
49
4
1
13
18
3
49
5
2
15
15
5
20
0
47
49
6
1
15
5
3
7
7
64
47
49
8
2
30
8
116
26
93
1
15
24
13
45
9
10
43
11
12
49
12
1
10
79
8
111
15
24
19
1
15
5
4
3
20
1
48
13
47
49
14
2
15
5
7
15
64
20
1
48
16
47
49
14
2
25
8
116
15
92
1
27
34
92
0
27
11
I
8
I
2
I
0
I
0
n
p
17
s
11
foo
bar
b_z
s
8
utf-16le
x
6
encode
s
1

x
14
force_encoding
x
3
[]=
x
6
render
s
18
Expected exception
x
6
assert
x
4
Haml
n
x
5
Error
x
3
===
x
4
line
x
12
assert_equal
s
33
Invalid UTF-16LE character "\xFE"
x
7
message
p
19
I
0
I
63f
I
0
I
640
I
13
I
641
I
28
I
642
I
30
I
643
I
41
I
644
I
50
I
647
I
54
I
645
I
60
I
646
I
78
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
2
x
8
template
x
1
e
x
7
private
n
x
33
assert_converts_template_properly
M
1
n
n
x
33
assert_converts_template_properly
i
93
45
0
1
43
2
13
71
3
47
9
48
47
48
4
13
7
5
64
7
6
64
49
7
1
44
43
8
79
49
9
1
13
7
10
7
11
64
49
12
2
15
47
49
13
2
15
8
77
7
5
64
7
6
64
49
7
1
44
43
8
79
49
9
1
13
7
10
7
11
64
49
12
2
15
49
3
2
19
0
15
5
7
14
64
20
0
60
1
47
49
15
2
11
I
8
I
1
I
0
I
0
n
p
16
x
4
Haml
n
x
6
Engine
x
3
new
x
8
allocate
s
17
%p br
%p f

s
10
iso-8859-1
x
6
encode
x
4
Hash
x
16
new_from_literal
x
8
encoding
s
5
utf-8
x
3
[]=
x
10
initialize
s
25
<p>br</p>
<p>f</p>

x
12
assert_equal
p
7
I
0
I
64c
I
0
I
64d
I
50
I
651
I
5d
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
1
x
6
engine
p
481
I
2
I
a
I
5
I
59
I
e
I
b
I
19
I
c
I
24
I
d
I
2f
I
e
I
3a
I
f
I
45
I
10
I
50
I
11
I
5b
I
12
I
66
I
13
I
71
I
14
I
7c
I
15
I
8a
I
16
I
95
I
17
I
a0
I
18
I
ab
I
19
I
b6
I
1a
I
c1
I
1b
I
cc
I
1c
I
d7
I
1d
I
e2
I
1e
I
f0
I
1f
I
fe
I
20
I
10c
I
21
I
11b
I
22
I
12a
I
23
I
138
I
24
I
147
I
25
I
152
I
26
I
15d
I
27
I
16a
I
2f
I
179
I
30
I
188
I
31
I
197
I
32
I
1a6
I
33
I
1b5
I
34
I
1c4
I
35
I
1d3
I
36
I
1e2
I
37
I
1f1
I
38
I
200
I
39
I
20e
I
3a
I
219
I
3b
I
227
I
3c
I
232
I
3d
I
23d
I
3e
I
24b
I
3f
I
259
I
40
I
263
I
41
I
26d
I
42
I
277
I
43
I
281
I
44
I
28b
I
45
I
295
I
48
I
2a3
I
49
I
2b1
I
4a
I
2c0
I
4b
I
2cf
I
4c
I
2de
I
4d
I
2ed
I
4e
I
2fc
I
4f
I
30b
I
50
I
31a
I
51
I
329
I
52
I
338
I
53
I
347
I
54
I
356
I
55
I
365
I
56
I
374
I
57
I
383
I
58
I
394
I
5b
I
3bc
I
5c
I
3f4
I
62
I
403
I
68
I
412
I
72
I
421
I
76
I
430
I
7f
I
43f
I
83
I
44e
I
87
I
45d
I
8c
I
46c
I
91
I
47b
I
9d
I
48a
I
a8
I
499
I
b3
I
4a8
I
c1
I
4b7
I
c6
I
4c6
I
cb
I
4d5
I
cf
I
4e4
I
d3
I
4f3
I
da
I
502
I
df
I
511
I
e4
I
520
I
e9
I
52f
I
ed
I
53e
I
f1
I
54d
I
f5
I
55c
I
f9
I
56b
I
fd
I
57a
I
104
I
589
I
112
I
598
I
116
I
5a7
I
11a
I
5b6
I
12d
I
5c5
I
13a
I
5d4
I
146
I
5e3
I
150
I
5f2
I
156
I
601
I
162
I
610
I
180
I
61f
I
18c
I
62e
I
1a6
I
63d
I
1ad
I
64c
I
1b4
I
65b
I
1bf
I
66a
I
1ce
I
679
I
1e0
I
688
I
1f9
I
697
I
20d
I
6a6
I
21a
I
6b5
I
222
I
6c4
I
260
I
6d3
I
264
I
6e2
I
271
I
6f1
I
27c
I
700
I
280
I
70f
I
284
I
71e
I
28f
I
72d
I
299
I
73c
I
2a2
I
74b
I
2ad
I
75a
I
2b1
I
769
I
2b5
I
778
I
2b9
I
787
I
2bd
I
796
I
2c1
I
7a5
I
2cc
I
7b4
I
2d7
I
7c3
I
2dc
I
7d2
I
2e1
I
7e1
I
2e6
I
7f0
I
2eb
I
7ff
I
2f0
I
80e
I
2f5
I
81d
I
2fa
I
82c
I
2ff
I
83b
I
304
I
84a
I
309
I
859
I
30e
I
868
I
313
I
877
I
317
I
886
I
323
I
895
I
333
I
8a4
I
33c
I
8b3
I
356
I
8c2
I
35e
I
8d1
I
36b
I
8e0
I
372
I
8ef
I
386
I
8fe
I
38b
I
90d
I
390
I
91c
I
396
I
92b
I
39d
I
93a
I
3a1
I
949
I
3a6
I
958
I
3aa
I
961
I
3c6
I
970
I
3ce
I
97f
I
3d7
I
98e
I
3e0
I
99d
I
3e6
I
9ac
I
3eb
I
9bb
I
3f5
I
9ca
I
3fc
I
9d9
I
40b
I
9e8
I
410
I
9f7
I
416
I
a06
I
41c
I
a15
I
422
I
a24
I
428
I
a33
I
434
I
a42
I
438
I
a51
I
43e
I
a60
I
443
I
a6f
I
449
I
a7e
I
44e
I
a8d
I
452
I
a9c
I
45a
I
aab
I
463
I
aba
I
46c
I
ac9
I
477
I
ad8
I
47e
I
ae7
I
483
I
af6
I
487
I
b05
I
48e
I
b14
I
492
I
b23
I
499
I
b32
I
49e
I
b41
I
4a2
I
b50
I
4a9
I
b5f
I
4ad
I
b6e
I
4b3
I
b7d
I
4b8
I
b8c
I
4bd
I
b9b
I
4c8
I
baa
I
4d0
I
bb9
I
4e7
I
bc8
I
4ed
I
bd7
I
4fc
I
be6
I
509
I
bf5
I
50e
I
c04
I
514
I
c13
I
51b
I
c22
I
529
I
c31
I
534
I
c40
I
53a
I
c4f
I
549
I
c5e
I
556
I
c6d
I
564
I
c7c
I
572
I
c8b
I
580
I
c9a
I
58e
I
ca9
I
59e
I
cb8
I
5b0
I
cc7
I
5be
I
cd6
I
5cc
I
ce5
I
5da
I
cf4
I
5ea
I
d03
I
5ff
I
d12
I
60a
I
d1e
I
60b
I
d2d
I
613
I
d3c
I
61d
I
d4b
I
627
I
d5a
I
62b
I
d69
I
62f
I
d78
I
637
I
d87
I
63f
I
d96
I
64a
I
d9b
I
64c
I
daa
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
x
13
attach_method
p
5
I
0
I
3
I
14
I
5
I
3a
x
45
/home/nex3/code/haml/test/haml/engine_test.rb
p
0
